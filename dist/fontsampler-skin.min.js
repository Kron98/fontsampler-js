!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).FontsamplerSkin=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){var root,factory;root=window,factory=function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="/public/assets/scripts/",__webpack_require__(__webpack_require__.s=9)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.diff=exports.cloneObject=exports.existsInArray=exports.isIE11=exports.fetchFromObject=exports.getWindowHeight=exports.dispatchEvent=exports.sortByScore=exports.sortByAlpha=exports.calcWidthOfInput=exports.strToEl=exports.sanitise=exports.isScrolledIntoView=exports.getAdjacentEl=exports.findAncestorByAttrName=exports.wrap=exports.isElement=exports.isType=exports.getType=exports.generateId=exports.generateChars=exports.getRandomNumber=void 0;var getRandomNumber=function(min,max){return Math.floor(Math.random()*(max-min)+min)};exports.getRandomNumber=getRandomNumber;var generateChars=function(length){for(var chars="",i=0;i<length;i++){chars+=getRandomNumber(0,36).toString(36)}return chars};exports.generateChars=generateChars;exports.generateId=function(element,prefix){var id=element.id||element.name&&"".concat(element.name,"-").concat(generateChars(2))||generateChars(4);return id=id.replace(/(:|\.|\[|\]|,)/g,""),id="".concat(prefix,"-").concat(id)};var getType=function(obj){return Object.prototype.toString.call(obj).slice(8,-1)};exports.getType=getType;var isType=function(type,obj){return null!=obj&&getType(obj)===type};exports.isType=isType;exports.isElement=function(element){return element instanceof Element};exports.wrap=function(element){var wrapper=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document.createElement("div");return element.nextSibling?element.parentNode.insertBefore(wrapper,element.nextSibling):element.parentNode.appendChild(wrapper),wrapper.appendChild(element)};exports.findAncestorByAttrName=function(el,attr){for(var target=el;target;){if(target.hasAttribute(attr))return target;target=target.parentElement}return null};exports.getAdjacentEl=function(startEl,className){var direction=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(startEl&&className){var parent=startEl.parentNode.parentNode,children=Array.from(parent.querySelectorAll(className)),startPos=children.indexOf(startEl);return children[startPos+(0<direction?1:-1)]}};exports.isScrolledIntoView=function(el,parent){var direction=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(el)return 0<direction?parent.scrollTop+parent.offsetHeight>=el.offsetTop+el.offsetHeight:el.offsetTop>=parent.scrollTop};var sanitise=function(value){return isType("String",value)?value.replace(/&/g,"&amp;").replace(/>/g,"&rt;").replace(/</g,"&lt;").replace(/"/g,"&quot;"):value};exports.sanitise=sanitise;var tmpEl,strToEl=(tmpEl=document.createElement("div"),function(str){var cleanedInput=str.trim();tmpEl.innerHTML=cleanedInput;for(var firldChild=tmpEl.children[0];tmpEl.firstChild;)tmpEl.removeChild(tmpEl.firstChild);return firldChild});exports.strToEl=strToEl;exports.calcWidthOfInput=function(input,callback){var value=input.value||input.placeholder,width=input.offsetWidth;if(value){var testEl=strToEl("<span>".concat(sanitise(value),"</span>"));if(testEl.style.position="absolute",testEl.style.padding="0",testEl.style.top="-9999px",testEl.style.left="-9999px",testEl.style.width="auto",testEl.style.whiteSpace="pre",document.body.contains(input)&&window.getComputedStyle){var inputStyle=window.getComputedStyle(input);inputStyle&&(testEl.style.fontSize=inputStyle.fontSize,testEl.style.fontFamily=inputStyle.fontFamily,testEl.style.fontWeight=inputStyle.fontWeight,testEl.style.fontStyle=inputStyle.fontStyle,testEl.style.letterSpacing=inputStyle.letterSpacing,testEl.style.textTransform=inputStyle.textTransform,testEl.style.padding=inputStyle.padding)}document.body.appendChild(testEl),requestAnimationFrame(function(){value&&testEl.offsetWidth!==input.offsetWidth&&(width=testEl.offsetWidth+4),document.body.removeChild(testEl),callback.call(void 0,"".concat(width,"px"))})}else callback.call(void 0,"".concat(width,"px"))};exports.sortByAlpha=function(a,b){var labelA="".concat(a.label||a.value).toLowerCase(),labelB="".concat(b.label||b.value).toLowerCase();return labelA<labelB?-1:labelB<labelA?1:0};exports.sortByScore=function(a,b){return a.score-b.score};exports.dispatchEvent=function(element,type){var customArgs=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,event=new CustomEvent(type,{detail:customArgs,bubbles:!0,cancelable:!0});return element.dispatchEvent(event)};exports.getWindowHeight=function(){var body=document.body,html=document.documentElement;return Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight)};exports.fetchFromObject=function fetchFromObject(object,path){var index=path.indexOf(".");return-1<index?fetchFromObject(object[path.substring(0,index)],path.substr(index+1)):object[path]};exports.isIE11=function(){return!(!navigator.userAgent.match(/Trident/)||!navigator.userAgent.match(/rv[ :]11/))};exports.existsInArray=function(array,value){var key=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"value";return array.some(function(item){return isType("String",value)?item[key]===value.trim():item[key]===value})};exports.cloneObject=function(obj){return JSON.parse(JSON.stringify(obj))};exports.diff=function(a,b){var aKeys=Object.keys(a).sort(),bKeys=Object.keys(b).sort();return aKeys.filter(function(i){return bKeys.indexOf(i)<0})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SCROLLING_SPEED=exports.KEY_CODES=exports.ACTION_TYPES=exports.EVENTS=exports.DEFAULT_CONFIG=exports.DEFAULT_CLASSNAMES=void 0;var _utils=__webpack_require__(0),DEFAULT_CLASSNAMES={containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",hiddenState:"is-hidden",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"};exports.DEFAULT_CLASSNAMES=DEFAULT_CLASSNAMES;var DEFAULT_CONFIG={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilterFn:null,removeItems:!0,removeItemButton:!1,editItems:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sortFn:_utils.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(value){return'Press Enter to add <b>"'.concat((0,_utils.sanitise)(value),'"</b>')},maxItemText:function(maxItemCount){return"Only ".concat(maxItemCount," values can be added")},itemComparer:function(choice,item){return choice===item},fuseOptions:{includeScore:!0},callbackOnInit:null,callbackOnCreateTemplates:null,classNames:DEFAULT_CLASSNAMES};exports.DEFAULT_CONFIG=DEFAULT_CONFIG;exports.EVENTS={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice"};exports.ACTION_TYPES={ADD_CHOICE:"ADD_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM",CLEAR_ALL:"CLEAR_ALL"};exports.KEY_CODES={BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34};exports.SCROLLING_SPEED=4},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global,module){var root,_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7);root="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:module;var result=Object(_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__.a)(root);__webpack_exports__.a=result}).call(this,__webpack_require__(3),__webpack_require__(14)(module))},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _utils=__webpack_require__(0);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var WrappedElement=function(){function WrappedElement(_ref){var element=_ref.element,classNames=_ref.classNames;if(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WrappedElement),Object.assign(this,{element:element,classNames:classNames}),!(0,_utils.isElement)(element))throw new TypeError("Invalid element passed");this.isDisabled=!1}var Constructor,protoProps,staticProps;return Constructor=WrappedElement,(protoProps=[{key:"conceal",value:function(){this.element.classList.add(this.classNames.input),this.element.classList.add(this.classNames.hiddenState),this.element.tabIndex="-1";var origStyle=this.element.getAttribute("style");origStyle&&this.element.setAttribute("data-choice-orig-style",origStyle),this.element.setAttribute("aria-hidden","true"),this.element.setAttribute("data-choice","active")}},{key:"reveal",value:function(){this.element.classList.remove(this.classNames.input),this.element.classList.remove(this.classNames.hiddenState),this.element.removeAttribute("tabindex");var origStyle=this.element.getAttribute("data-choice-orig-style");origStyle?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",origStyle)):this.element.removeAttribute("style"),this.element.removeAttribute("aria-hidden"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value}},{key:"enable",value:function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1}},{key:"disable",value:function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0}},{key:"triggerEvent",value:function(eventType,data){(0,_utils.dispatchEvent)(this.element,eventType,data)}},{key:"value",get:function(){return this.element.value}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),WrappedElement}();exports.default=WrappedElement},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.TEMPLATES=void 0;var obj,_classnames=(obj=__webpack_require__(27))&&obj.__esModule?obj:{default:obj},_utils=__webpack_require__(0);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var TEMPLATES={containerOuter:function(globalClasses,direction,isSelectElement,isSelectOneElement,searchEnabled,passedElementType){var tabIndex=isSelectOneElement?'tabindex="0"':"",role=isSelectElement?'role="listbox"':"",ariaAutoComplete="";return isSelectElement&&searchEnabled&&(role='role="combobox"',ariaAutoComplete='aria-autocomplete="list"'),(0,_utils.strToEl)('\n      <div\n        class="'.concat(globalClasses.containerOuter,'"\n        data-type="').concat(passedElementType,'"\n        ').concat(role,"\n        ").concat(tabIndex,"\n        ").concat(ariaAutoComplete,'\n        aria-haspopup="true"\n        aria-expanded="false"\n        dir="').concat(direction,'"\n        >\n      </div>\n    '))},containerInner:function(globalClasses){return(0,_utils.strToEl)('\n      <div class="'.concat(globalClasses.containerInner,'"></div>\n    '))},itemList:function(globalClasses,isSelectOneElement){var _classNames,localClasses=(0,_classnames.default)(globalClasses.list,(_defineProperty(_classNames={},globalClasses.listSingle,isSelectOneElement),_defineProperty(_classNames,globalClasses.listItems,!isSelectOneElement),_classNames));return(0,_utils.strToEl)('\n      <div class="'.concat(localClasses,'"></div>\n    '))},placeholder:function(globalClasses,value){return(0,_utils.strToEl)('\n      <div class="'.concat(globalClasses.placeholder,'">\n        ').concat(value,"\n      </div>\n    "))},item:function(globalClasses,data,removeItemButton){var _classNames2,_classNames3,ariaSelected=data.active?'aria-selected="true"':"",ariaDisabled=data.disabled?'aria-disabled="true"':"",localClasses=(0,_classnames.default)(globalClasses.item,(_defineProperty(_classNames2={},globalClasses.highlightedState,data.highlighted),_defineProperty(_classNames2,globalClasses.itemSelectable,!data.highlighted),_defineProperty(_classNames2,globalClasses.placeholder,data.placeholder),_classNames2));return removeItemButton?(localClasses=(0,_classnames.default)(globalClasses.item,(_defineProperty(_classNames3={},globalClasses.highlightedState,data.highlighted),_defineProperty(_classNames3,globalClasses.itemSelectable,!data.disabled),_defineProperty(_classNames3,globalClasses.placeholder,data.placeholder),_classNames3)),(0,_utils.strToEl)('\n        <div\n          class="'.concat(localClasses,'"\n          data-item\n          data-id="').concat(data.id,'"\n          data-value="').concat(data.value,"\"\n          data-custom-properties='").concat(data.customProperties,"'\n          data-deletable\n          ").concat(ariaSelected,"\n          ").concat(ariaDisabled,"\n          >\n          ").concat(data.label,'\x3c!--\n       --\x3e<button\n            type="button"\n            class="').concat(globalClasses.button,'"\n            data-button\n            aria-label="Remove item: \'').concat(data.value,"'\"\n            >\n            Remove item\n          </button>\n        </div>\n      "))):(0,_utils.strToEl)('\n      <div\n        class="'.concat(localClasses,'"\n        data-item\n        data-id="').concat(data.id,'"\n        data-value="').concat(data.value,'"\n        ').concat(ariaSelected,"\n        ").concat(ariaDisabled,"\n        >\n        ").concat(data.label,"\n      </div>\n    "))},choiceList:function(globalClasses,isSelectOneElement){var ariaMultiSelectable=isSelectOneElement?"":'aria-multiselectable="true"';return(0,_utils.strToEl)('\n      <div\n        class="'.concat(globalClasses.list,'"\n        dir="ltr"\n        role="listbox"\n        ').concat(ariaMultiSelectable,"\n        >\n      </div>\n    "))},choiceGroup:function(globalClasses,data){var ariaDisabled=data.disabled?'aria-disabled="true"':"",localClasses=(0,_classnames.default)(globalClasses.group,_defineProperty({},globalClasses.itemDisabled,data.disabled));return(0,_utils.strToEl)('\n      <div\n        class="'.concat(localClasses,'"\n        data-group\n        data-id="').concat(data.id,'"\n        data-value="').concat(data.value,'"\n        role="group"\n        ').concat(ariaDisabled,'\n        >\n        <div class="').concat(globalClasses.groupHeading,'">').concat(data.value,"</div>\n      </div>\n    "))},choice:function(globalClasses,data,itemSelectText){var _classNames5,role=0<data.groupId?'role="treeitem"':'role="option"',localClasses=(0,_classnames.default)(globalClasses.item,globalClasses.itemChoice,(_defineProperty(_classNames5={},globalClasses.itemDisabled,data.disabled),_defineProperty(_classNames5,globalClasses.itemSelectable,!data.disabled),_defineProperty(_classNames5,globalClasses.placeholder,data.placeholder),_classNames5));return(0,_utils.strToEl)('\n      <div\n        class="'.concat(localClasses,'"\n        data-select-text="').concat(itemSelectText,'"\n        data-choice\n        data-id="').concat(data.id,'"\n        data-value="').concat(data.value,'"\n        ').concat(data.disabled?'data-choice-disabled aria-disabled="true"':"data-choice-selectable",'\n        id="').concat(data.elementId,'"\n        ').concat(role,"\n        >\n        ").concat(data.label,"\n      </div>\n    "))},input:function(globalClasses){var localClasses=(0,_classnames.default)(globalClasses.input,globalClasses.inputCloned);return(0,_utils.strToEl)('\n      <input\n        type="text"\n        class="'.concat(localClasses,'"\n        autocomplete="off"\n        autocapitalize="off"\n        spellcheck="false"\n        role="textbox"\n        aria-autocomplete="list"\n        >\n    '))},dropdown:function(globalClasses){var localClasses=(0,_classnames.default)(globalClasses.list,globalClasses.listDropdown);return(0,_utils.strToEl)('\n      <div\n        class="'.concat(localClasses,'"\n        aria-expanded="false"\n        >\n      </div>\n    '))},notice:function(globalClasses,label){var _classNames6,type=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",localClasses=(0,_classnames.default)(globalClasses.item,globalClasses.itemChoice,(_defineProperty(_classNames6={},globalClasses.noResults,"no-results"===type),_defineProperty(_classNames6,globalClasses.noChoices,"no-choices"===type),_classNames6));return(0,_utils.strToEl)('\n      <div class="'.concat(localClasses,'">\n        ').concat(label,"\n      </div>\n    "))},option:function(data){return(0,_utils.strToEl)('\n      <option value="'.concat(data.value,'" ').concat(data.active?"selected":""," ").concat(data.disabled?"disabled":""," ").concat(data.customProperties?"data-custom-properties=".concat(data.customProperties):"",">").concat(data.label,"</option>\n    "))}},_default=exports.TEMPLATES=TEMPLATES;exports.default=_default},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _freeGlobal=__webpack_require__(8),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,_Symbol=(_freeGlobal.a||freeSelf||Function("return this")()).Symbol,objectProto=Object.prototype,_getRawTag_hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=_Symbol?_Symbol.toStringTag:void 0;var _getRawTag=function(value){var isOwn=_getRawTag_hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{var unmasked=!(value[symToStringTag]=void 0)}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result},_objectToString_nativeObjectToString=Object.prototype.toString;var _objectToString=function(value){return _objectToString_nativeObjectToString.call(value)},_baseGetTag_symToStringTag=_Symbol?_Symbol.toStringTag:void 0;var _baseGetTag=function(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":_baseGetTag_symToStringTag&&_baseGetTag_symToStringTag in Object(value)?_getRawTag(value):_objectToString(value)};var _getPrototype=function(func,transform){return function(arg){return func(transform(arg))}}(Object.getPrototypeOf,Object);var lodash_es_isObjectLike=function(value){return null!=value&&"object"==typeof value},funcProto=Function.prototype,isPlainObject_objectProto=Object.prototype,funcToString=funcProto.toString,isPlainObject_hasOwnProperty=isPlainObject_objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);var lodash_es_isPlainObject=function(value){if(!lodash_es_isObjectLike(value)||"[object Object]"!=_baseGetTag(value))return!1;var proto=_getPrototype(value);if(null===proto)return!0;var Ctor=isPlainObject_hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString},es=__webpack_require__(2),ActionTypes={INIT:"@@redux/INIT"};function createStore_createStore(reducer,preloadedState,enhancer){var _ref2;if("function"==typeof preloadedState&&void 0===enhancer&&(enhancer=preloadedState,preloadedState=void 0),void 0!==enhancer){if("function"!=typeof enhancer)throw new Error("Expected the enhancer to be a function.");return enhancer(createStore_createStore)(reducer,preloadedState)}if("function"!=typeof reducer)throw new Error("Expected the reducer to be a function.");var currentReducer=reducer,currentState=preloadedState,currentListeners=[],nextListeners=currentListeners,isDispatching=!1;function ensureCanMutateNextListeners(){nextListeners===currentListeners&&(nextListeners=currentListeners.slice())}function getState(){return currentState}function subscribe(listener){if("function"!=typeof listener)throw new Error("Expected listener to be a function.");var isSubscribed=!0;return ensureCanMutateNextListeners(),nextListeners.push(listener),function(){if(isSubscribed){isSubscribed=!1,ensureCanMutateNextListeners();var index=nextListeners.indexOf(listener);nextListeners.splice(index,1)}}}function dispatch(action){if(!lodash_es_isPlainObject(action))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===action.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(isDispatching)throw new Error("Reducers may not dispatch actions.");try{isDispatching=!0,currentState=currentReducer(currentState,action)}finally{isDispatching=!1}for(var listeners=currentListeners=nextListeners,i=0;i<listeners.length;i++){(0,listeners[i])()}return action}return dispatch({type:ActionTypes.INIT}),(_ref2={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:function(nextReducer){if("function"!=typeof nextReducer)throw new Error("Expected the nextReducer to be a function.");currentReducer=nextReducer,dispatch({type:ActionTypes.INIT})}})[es.a]=function(){var _ref,outerSubscribe=subscribe;return(_ref={subscribe:function(observer){if("object"!=typeof observer)throw new TypeError("Expected the observer to be an object.");function observeState(){observer.next&&observer.next(getState())}return observeState(),{unsubscribe:outerSubscribe(observeState)}}})[es.a]=function(){return this},_ref},_ref2}function getUndefinedStateErrorMessage(key,action){var actionType=action&&action.type;return"Given action "+(actionType&&'"'+actionType.toString()+'"'||"an action")+', reducer "'+key+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function combineReducers(reducers){for(var reducerKeys=Object.keys(reducers),finalReducers={},i=0;i<reducerKeys.length;i++){var key=reducerKeys[i];0,"function"==typeof reducers[key]&&(finalReducers[key]=reducers[key])}var finalReducerKeys=Object.keys(finalReducers);var shapeAssertionError=void 0;try{!function(reducers){Object.keys(reducers).forEach(function(key){var reducer=reducers[key];if(void 0===reducer(void 0,{type:ActionTypes.INIT}))throw new Error('Reducer "'+key+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===reducer(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+key+"\" returned undefined when probed with a random type. Don't try to handle "+ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(finalReducers)}catch(e){shapeAssertionError=e}return function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},action=arguments[1];if(shapeAssertionError)throw shapeAssertionError;for(var hasChanged=!1,nextState={},_i=0;_i<finalReducerKeys.length;_i++){var _key=finalReducerKeys[_i],reducer=finalReducers[_key],previousStateForKey=state[_key],nextStateForKey=reducer(previousStateForKey,action);if(void 0===nextStateForKey){var errorMessage=getUndefinedStateErrorMessage(_key,action);throw new Error(errorMessage)}nextState[_key]=nextStateForKey,hasChanged=hasChanged||nextStateForKey!==previousStateForKey}return hasChanged?nextState:state}}function bindActionCreator(actionCreator,dispatch){return function(){return dispatch(actionCreator.apply(void 0,arguments))}}function bindActionCreators(actionCreators,dispatch){if("function"==typeof actionCreators)return bindActionCreator(actionCreators,dispatch);if("object"!=typeof actionCreators||null===actionCreators)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===actionCreators?"null":typeof actionCreators)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var keys=Object.keys(actionCreators),boundActionCreators={},i=0;i<keys.length;i++){var key=keys[i],actionCreator=actionCreators[key];"function"==typeof actionCreator&&(boundActionCreators[key]=bindActionCreator(actionCreator,dispatch))}return boundActionCreators}function compose(){for(var _len=arguments.length,funcs=Array(_len),_key=0;_key<_len;_key++)funcs[_key]=arguments[_key];return 0===funcs.length?function(arg){return arg}:1===funcs.length?funcs[0]:funcs.reduce(function(a,b){return function(){return a(b.apply(void 0,arguments))}})}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function applyMiddleware(){for(var _len=arguments.length,middlewares=Array(_len),_key=0;_key<_len;_key++)middlewares[_key]=arguments[_key];return function(createStore){return function(reducer,preloadedState,enhancer){var chain,store=createStore(reducer,preloadedState,enhancer),_dispatch=store.dispatch,middlewareAPI={getState:store.getState,dispatch:function(action){return _dispatch(action)}};return chain=middlewares.map(function(middleware){return middleware(middlewareAPI)}),_dispatch=compose.apply(void 0,chain)(store.dispatch),_extends({},store,{dispatch:_dispatch})}}}__webpack_require__.d(__webpack_exports__,"createStore",function(){return createStore_createStore}),__webpack_require__.d(__webpack_exports__,"combineReducers",function(){return combineReducers}),__webpack_require__.d(__webpack_exports__,"bindActionCreators",function(){return bindActionCreators}),__webpack_require__.d(__webpack_exports__,"applyMiddleware",function(){return applyMiddleware}),__webpack_require__.d(__webpack_exports__,"compose",function(){return compose})},function(module,__webpack_exports__,__webpack_require__){"use strict";function symbolObservablePonyfill(root){var result,Symbol=root.Symbol;return"function"==typeof Symbol?Symbol.observable?result=Symbol.observable:(result=Symbol("observable"),Symbol.observable=result):result="@@observable",result}__webpack_require__.d(__webpack_exports__,"a",function(){return symbolObservablePonyfill})},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;__webpack_exports__.a=freeGlobal}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){module.exports=__webpack_require__(10)},function(module,exports,__webpack_require__){"use strict";var _fuse=_interopRequireDefault(__webpack_require__(11)),_deepmerge=_interopRequireDefault(__webpack_require__(12)),_store=_interopRequireDefault(__webpack_require__(13)),_components=__webpack_require__(20),_constants=__webpack_require__(1),_templates=__webpack_require__(5),_choices=__webpack_require__(28),_items=__webpack_require__(29),_groups=__webpack_require__(30),_misc=__webpack_require__(31),_general=__webpack_require__(32),_utils=__webpack_require__(0);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Choices=function(){function Choices(){var element=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"[data-choice]",userConfig=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Choices),(0,_utils.isType)("String",element)){var elements=Array.from(document.querySelectorAll(element));if(1<elements.length)return this._generateInstances(elements,userConfig)}this.config=_deepmerge.default.all([_constants.DEFAULT_CONFIG,Choices.userDefaults,userConfig],{arrayMerge:function(destinationArray,sourceArray){return[].concat(sourceArray)}});var invalidConfigOptions=(0,_utils.diff)(this.config,_constants.DEFAULT_CONFIG);invalidConfigOptions.length&&console.warn("Unknown config option(s) passed",invalidConfigOptions.join(", ")),["auto","always"].includes(this.config.renderSelectedChoices)||(this.config.renderSelectedChoices="auto");var passedElement=(0,_utils.isType)("String",element)?document.querySelector(element):element;return passedElement?(this._isTextElement="text"===passedElement.type,this._isSelectOneElement="select-one"===passedElement.type,this._isSelectMultipleElement="select-multiple"===passedElement.type,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this._isTextElement?this.passedElement=new _components.WrappedInput({element:passedElement,classNames:this.config.classNames,delimiter:this.config.delimiter}):this._isSelectElement&&(this.passedElement=new _components.WrappedSelect({element:passedElement,classNames:this.config.classNames})),this.passedElement?(!0===this.config.shouldSortItems&&this._isSelectOneElement&&!this.config.silent&&console.warn("shouldSortElements: Type of passed element is 'select-one', falling back to false."),this.initialised=!1,this._store=new _store.default(this.render),this._initialState={},this._currentState={},this._prevState={},this._currentValue="",this._canSearch=this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=(0,_utils.generateId)(this.passedElement.element,"choices-"),this._direction=this.passedElement.element.getAttribute("dir")||"ltr",this._idNames={itemChoice:"item-choice"},this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&(this._presetItems=this._presetItems.concat(this.passedElement.value.split(this.config.delimiter))),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onAKey=this._onAKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),"active"===this.passedElement.element.getAttribute("data-choice")&&console.warn("Trying to initialise Choices on element already initialised"),void this.init()):console.error("Passed element was of an invalid type")):console.error("Could not find passed element or passed element was of an invalid type")}var Constructor,protoProps,staticProps;return Constructor=Choices,(protoProps=[{key:"init",value:function(){if(!this.initialised){this._createTemplates(),this._createElements(),this._createStructure(),this._initialState=(0,_utils.cloneObject)(this._store.state),this._store.subscribe(this._render),this._render(),this._addEventListeners(),(!this.config.addItems||this.passedElement.element.hasAttribute("disabled"))&&this.disable(),this.initialised=!0;var callbackOnInit=this.config.callbackOnInit;callbackOnInit&&(0,_utils.isType)("Function",callbackOnInit)&&callbackOnInit.call(this)}}},{key:"destroy",value:function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this._isSelectElement&&(this.passedElement.options=this._presetChoices),this.clearStore(),this.config.templates=null,this.initialised=!1)}},{key:"enable",value:function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this}},{key:"disable",value:function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this}},{key:"highlightItem",value:function(item){var runEvent=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!item)return this;var id=item.id,_item$groupId=item.groupId,groupId=void 0===_item$groupId?-1:_item$groupId,_item$value=item.value,value=void 0===_item$value?"":_item$value,_item$label=item.label,label=void 0===_item$label?"":_item$label,group=0<=groupId?this._store.getGroupById(groupId):null;return this._store.dispatch((0,_items.highlightItem)(id,!0)),runEvent&&this.passedElement.triggerEvent(_constants.EVENTS.highlightItem,{id:id,value:value,label:label,groupValue:group&&group.value?group.value:null}),this}},{key:"unhighlightItem",value:function(item){if(!item)return this;var id=item.id,_item$groupId2=item.groupId,groupId=void 0===_item$groupId2?-1:_item$groupId2,_item$value2=item.value,value=void 0===_item$value2?"":_item$value2,_item$label2=item.label,label=void 0===_item$label2?"":_item$label2,group=0<=groupId?this._store.getGroupById(groupId):null;return this._store.dispatch((0,_items.highlightItem)(id,!1)),this.passedElement.triggerEvent(_constants.EVENTS.highlightItem,{id:id,value:value,label:label,groupValue:group&&group.value?group.value:null}),this}},{key:"highlightAll",value:function(){var _this=this;return this._store.items.forEach(function(item){return _this.highlightItem(item)}),this}},{key:"unhighlightAll",value:function(){var _this2=this;return this._store.items.forEach(function(item){return _this2.unhighlightItem(item)}),this}},{key:"removeActiveItemsByValue",value:function(value){var _this3=this;return this._store.activeItems.filter(function(item){return item.value===value}).forEach(function(item){return _this3._removeItem(item)}),this}},{key:"removeActiveItems",value:function(excludedId){var _this4=this;return this._store.activeItems.filter(function(_ref){return _ref.id!==excludedId}).forEach(function(item){return _this4._removeItem(item)}),this}},{key:"removeHighlightedItems",value:function(){var _this5=this,runEvent=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._store.highlightedActiveItems.forEach(function(item){_this5._removeItem(item),runEvent&&_this5._triggerChange(item.value)}),this}},{key:"showDropdown",value:function(preventInputFocus){var _this6=this;return this.dropdown.isActive||requestAnimationFrame(function(){_this6.dropdown.show(),_this6.containerOuter.open(_this6.dropdown.distanceFromTopWindow()),!preventInputFocus&&_this6._canSearch&&_this6.input.focus(),_this6.passedElement.triggerEvent(_constants.EVENTS.showDropdown,{})}),this}},{key:"hideDropdown",value:function(preventInputBlur){var _this7=this;return this.dropdown.isActive&&requestAnimationFrame(function(){_this7.dropdown.hide(),_this7.containerOuter.close(),!preventInputBlur&&_this7._canSearch&&(_this7.input.removeActiveDescendant(),_this7.input.blur()),_this7.passedElement.triggerEvent(_constants.EVENTS.hideDropdown,{})}),this}},{key:"getValue",value:function(){var valueOnly=0<arguments.length&&void 0!==arguments[0]&&arguments[0],values=this._store.activeItems.reduce(function(selectedItems,item){var itemValue=valueOnly?item.value:item;return selectedItems.push(itemValue),selectedItems},[]);return this._isSelectOneElement?values[0]:values}},{key:"setValue",value:function(args){var _this8=this;return this.initialised&&[].concat(args).forEach(function(value){return _this8._setChoiceOrItem(value)}),this}},{key:"setChoiceByValue",value:function(value){var _this9=this;return!this.initialised||this._isTextElement||((0,_utils.isType)("Array",value)?value:[value]).forEach(function(val){return _this9._findAndSelectChoiceByValue(val)}),this}},{key:"setChoices",value:function(){var _this10=this,choices=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],value=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",label=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",replaceChoices=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(!this._isSelectElement||!value)return this;replaceChoices&&this.clearChoices(),this.containerOuter.removeLoadingState();return this._setLoading(!0),choices.forEach(function(groupOrChoice){groupOrChoice.choices?_this10._addGroup({group:groupOrChoice,id:groupOrChoice.id||null,valueKey:value,labelKey:label}):_this10._addChoice({value:groupOrChoice[value],label:groupOrChoice[label],isSelected:groupOrChoice.selected,isDisabled:groupOrChoice.disabled,customProperties:groupOrChoice.customProperties,placeholder:groupOrChoice.placeholder})}),this._setLoading(!1),this}},{key:"clearChoices",value:function(){this._store.dispatch((0,_choices.clearChoices)())}},{key:"clearStore",value:function(){return this._store.dispatch((0,_misc.clearAll)()),this}},{key:"clearInput",value:function(){var shouldSetInputWidth=!this._isSelectOneElement;return this.input.clear(shouldSetInputWidth),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch((0,_choices.activateChoices)(!0))),this}},{key:"ajax",value:function(fn){var _this11=this;return this.initialised&&this._isSelectElement&&fn&&(requestAnimationFrame(function(){return _this11._handleLoadingState(!0)}),fn(this._ajaxCallback())),this}},{key:"_render",value:function(){if(!this._store.isLoading()){this._currentState=this._store.state;var stateChanged=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,shouldRenderChoices=this._isSelectElement,shouldRenderItems=this._currentState.items!==this._prevState.items;stateChanged&&(shouldRenderChoices&&this._renderChoices(),shouldRenderItems&&this._renderItems(),this._prevState=this._currentState)}}},{key:"_renderChoices",value:function(){var _this12=this,_this$_store=this._store,activeGroups=_this$_store.activeGroups,activeChoices=_this$_store.activeChoices,choiceListFragment=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame(function(){return _this12.choiceList.scrollToTop()}),1<=activeGroups.length&&!this._isSearching){var activePlaceholders=activeChoices.filter(function(activeChoice){return!0===activeChoice.placeholder&&-1===activeChoice.groupId});1<=activePlaceholders.length&&(choiceListFragment=this._createChoicesFragment(activePlaceholders,choiceListFragment)),choiceListFragment=this._createGroupsFragment(activeGroups,activeChoices,choiceListFragment)}else 1<=activeChoices.length&&(choiceListFragment=this._createChoicesFragment(activeChoices,choiceListFragment));if(choiceListFragment.childNodes&&0<choiceListFragment.childNodes.length){var activeItems=this._store.activeItems,canAddItem=this._canAddItem(activeItems,this.input.value);canAddItem.response?(this.choiceList.append(choiceListFragment),this._highlightChoice()):this.choiceList.append(this._getTemplate("notice",canAddItem.notice))}else{var dropdownItem,notice;this._isSearching?(notice=(0,_utils.isType)("Function",this.config.noResultsText)?this.config.noResultsText():this.config.noResultsText,dropdownItem=this._getTemplate("notice",notice,"no-results")):(notice=(0,_utils.isType)("Function",this.config.noChoicesText)?this.config.noChoicesText():this.config.noChoicesText,dropdownItem=this._getTemplate("notice",notice,"no-choices")),this.choiceList.append(dropdownItem)}}},{key:"_renderItems",value:function(){var activeItems=this._store.activeItems||[];this.itemList.clear();var itemListFragment=this._createItemsFragment(activeItems);itemListFragment.childNodes&&this.itemList.append(itemListFragment)}},{key:"_createGroupsFragment",value:function(groups,choices,fragment){var _this13=this,groupFragment=fragment||document.createDocumentFragment();return this.config.shouldSort&&groups.sort(this.config.sortFn),groups.forEach(function(group){var groupChoices=function(group){return choices.filter(function(choice){return _this13._isSelectOneElement?choice.groupId===group.id:choice.groupId===group.id&&("always"===_this13.config.renderSelectedChoices||!choice.selected)})}(group);if(1<=groupChoices.length){var dropdownGroup=_this13._getTemplate("choiceGroup",group);groupFragment.appendChild(dropdownGroup),_this13._createChoicesFragment(groupChoices,groupFragment,!0)}}),groupFragment}},{key:"_createChoicesFragment",value:function(choices,fragment){var _this14=this,withinGroup=2<arguments.length&&void 0!==arguments[2]&&arguments[2],choicesFragment=fragment||document.createDocumentFragment(),_this$config=this.config,renderSelectedChoices=_this$config.renderSelectedChoices,searchResultLimit=_this$config.searchResultLimit,renderChoiceLimit=_this$config.renderChoiceLimit,filter=this._isSearching?_utils.sortByScore:this.config.sortFn,appendChoice=function(choice){if("auto"!==renderSelectedChoices||(_this14._isSelectOneElement||!choice.selected)){var dropdownItem=_this14._getTemplate("choice",choice,_this14.config.itemSelectText);choicesFragment.appendChild(dropdownItem)}},rendererableChoices=choices;"auto"!==renderSelectedChoices||this._isSelectOneElement||(rendererableChoices=choices.filter(function(choice){return!choice.selected}));var _rendererableChoices$=rendererableChoices.reduce(function(acc,choice){return choice.placeholder?acc.placeholderChoices.push(choice):acc.normalChoices.push(choice),acc},{placeholderChoices:[],normalChoices:[]}),placeholderChoices=_rendererableChoices$.placeholderChoices,normalChoices=_rendererableChoices$.normalChoices;(this.config.shouldSort||this._isSearching)&&normalChoices.sort(filter);var choiceLimit=rendererableChoices.length,sortedChoices=[].concat(placeholderChoices,normalChoices);this._isSearching?choiceLimit=searchResultLimit:0<renderChoiceLimit&&!withinGroup&&(choiceLimit=renderChoiceLimit);for(var i=0;i<choiceLimit;i+=1)sortedChoices[i]&&appendChoice(sortedChoices[i]);return choicesFragment}},{key:"_createItemsFragment",value:function(items){var _this15=this,fragment=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,_this$config2=this.config,shouldSortItems=_this$config2.shouldSortItems,sortFn=_this$config2.sortFn,removeItemButton=_this$config2.removeItemButton,itemListFragment=fragment||document.createDocumentFragment();shouldSortItems&&!this._isSelectOneElement&&items.sort(sortFn),this._isTextElement?this.passedElement.value=items:this.passedElement.options=items;return items.forEach(function(item){return function(item){var listItem=_this15._getTemplate("item",item,removeItemButton);itemListFragment.appendChild(listItem)}(item)}),itemListFragment}},{key:"_triggerChange",value:function(value){null!=value&&this.passedElement.triggerEvent(_constants.EVENTS.change,{value:value})}},{key:"_selectPlaceholderChoice",value:function(){var placeholderChoice=this._store.placeholderChoice;placeholderChoice&&(this._addItem({value:placeholderChoice.value,label:placeholderChoice.label,choiceId:placeholderChoice.id,groupId:placeholderChoice.groupId,placeholder:placeholderChoice.placeholder}),this._triggerChange(placeholderChoice.value))}},{key:"_handleButtonAction",value:function(activeItems,element){if(activeItems&&element&&this.config.removeItems&&this.config.removeItemButton){var itemId=element.parentNode.getAttribute("data-id"),itemToRemove=activeItems.find(function(item){return item.id===parseInt(itemId,10)});this._removeItem(itemToRemove),this._triggerChange(itemToRemove.value),this._isSelectOneElement&&this._selectPlaceholderChoice()}}},{key:"_handleItemAction",value:function(activeItems,element){var _this16=this,hasShiftKey=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(activeItems&&element&&this.config.removeItems&&!this._isSelectOneElement){var passedId=element.getAttribute("data-id");activeItems.forEach(function(item){item.id!==parseInt(passedId,10)||item.highlighted?!hasShiftKey&&item.highlighted&&_this16.unhighlightItem(item):_this16.highlightItem(item)}),this.input.focus()}}},{key:"_handleChoiceAction",value:function(activeItems,element){if(activeItems&&element){var id=element.getAttribute("data-id"),choice=this._store.getChoiceById(id),passedKeyCode=activeItems[0]&&activeItems[0].keyCode?activeItems[0].keyCode:null,hasActiveDropdown=this.dropdown.isActive;if(choice.keyCode=passedKeyCode,this.passedElement.triggerEvent(_constants.EVENTS.choice,{choice:choice}),choice&&!choice.selected&&!choice.disabled)this._canAddItem(activeItems,choice.value).response&&(this._addItem({value:choice.value,label:choice.label,choiceId:choice.id,groupId:choice.groupId,customProperties:choice.customProperties,placeholder:choice.placeholder,keyCode:choice.keyCode}),this._triggerChange(choice.value));this.clearInput(),hasActiveDropdown&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}}},{key:"_handleBackspace",value:function(activeItems){if(this.config.removeItems&&activeItems){var lastItem=activeItems[activeItems.length-1],hasHighlightedItems=activeItems.some(function(item){return item.highlighted});this.config.editItems&&!hasHighlightedItems&&lastItem?(this.input.value=lastItem.value,this.input.setWidth(),this._removeItem(lastItem),this._triggerChange(lastItem.value)):(hasHighlightedItems||this.highlightItem(lastItem,!1),this.removeHighlightedItems(!0))}}},{key:"_setLoading",value:function(isLoading){this._store.dispatch((0,_general.setIsLoading)(isLoading))}},{key:"_handleLoadingState",value:function(){var setLoading=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],placeholderItem=this.itemList.getChild(".".concat(this.config.classNames.placeholder));setLoading?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?placeholderItem?placeholderItem.innerHTML=this.config.loadingText:(placeholderItem=this._getTemplate("placeholder",this.config.loadingText),this.itemList.append(placeholderItem)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?placeholderItem.innerHTML=this._placeholderValue||"":this.input.placeholder=this._placeholderValue||"")}},{key:"_handleSearch",value:function(value){if(value&&this.input.isFocussed){var choices=this._store.choices,_this$config3=this.config,searchFloor=_this$config3.searchFloor,searchChoices=_this$config3.searchChoices,hasUnactiveChoices=choices.some(function(option){return!option.active});if(value&&value.length>=searchFloor){var resultCount=searchChoices?this._searchChoices(value):0;this.passedElement.triggerEvent(_constants.EVENTS.search,{value:value,resultCount:resultCount})}else hasUnactiveChoices&&(this._isSearching=!1,this._store.dispatch((0,_choices.activateChoices)(!0)))}}},{key:"_canAddItem",value:function(activeItems,value){var canAddItem=!0,notice=(0,_utils.isType)("Function",this.config.addItemText)?this.config.addItemText(value):this.config.addItemText;if(!this._isSelectOneElement){var isDuplicateValue=(0,_utils.existsInArray)(activeItems,value);0<this.config.maxItemCount&&this.config.maxItemCount<=activeItems.length&&(canAddItem=!1,notice=(0,_utils.isType)("Function",this.config.maxItemText)?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&isDuplicateValue&&canAddItem&&(canAddItem=!1,notice=(0,_utils.isType)("Function",this.config.uniqueItemText)?this.config.uniqueItemText(value):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&canAddItem&&(0,_utils.isType)("Function",this.config.addItemFilterFn)&&!this.config.addItemFilterFn(value)&&(canAddItem=!1,notice=(0,_utils.isType)("Function",this.config.customAddItemText)?this.config.customAddItemText(value):this.config.customAddItemText)}return{response:canAddItem,notice:notice}}},{key:"_ajaxCallback",value:function(){var _this17=this;return function(results,value,label){if(results&&value){var parsedResults=(0,_utils.isType)("Object",results)?[results]:results;parsedResults&&(0,_utils.isType)("Array",parsedResults)&&parsedResults.length?(_this17._handleLoadingState(!1),_this17._setLoading(!0),parsedResults.forEach(function(result){result.choices?_this17._addGroup({group:result,id:result.id||null,valueKey:value,labelKey:label}):_this17._addChoice({value:(0,_utils.fetchFromObject)(result,value),label:(0,_utils.fetchFromObject)(result,label),isSelected:result.selected,isDisabled:result.disabled,customProperties:result.customProperties,placeholder:result.placeholder})}),_this17._setLoading(!1),_this17._isSelectOneElement&&_this17._selectPlaceholderChoice()):_this17._handleLoadingState(!1)}}}},{key:"_searchChoices",value:function(value){var newValue=(0,_utils.isType)("String",value)?value.trim():value,currentValue=(0,_utils.isType)("String",this._currentValue)?this._currentValue.trim():this._currentValue;if(newValue.length<1&&newValue==="".concat(currentValue," "))return 0;var haystack=this._store.searchableChoices,needle=newValue,keys=[].concat(this.config.searchFields),options=Object.assign(this.config.fuseOptions,{keys:keys}),results=new _fuse.default(haystack,options).search(needle);return this._currentValue=newValue,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch((0,_choices.filterChoices)(results)),results.length}},{key:"_addEventListeners",value:function(){document.addEventListener("keyup",this._onKeyUp),document.addEventListener("keydown",this._onKeyDown),document.addEventListener("click",this._onClick),document.addEventListener("touchmove",this._onTouchMove),document.addEventListener("touchend",this._onTouchEnd),document.addEventListener("mousedown",this._onMouseDown),document.addEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus),this.containerOuter.element.addEventListener("blur",this._onBlur)),this.input.element.addEventListener("focus",this._onFocus),this.input.element.addEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset),this.input.addEventListeners()}},{key:"_removeEventListeners",value:function(){document.removeEventListener("keyup",this._onKeyUp),document.removeEventListener("keydown",this._onKeyDown),document.removeEventListener("click",this._onClick),document.removeEventListener("touchmove",this._onTouchMove),document.removeEventListener("touchend",this._onTouchEnd),document.removeEventListener("mousedown",this._onMouseDown),document.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()}},{key:"_onKeyDown",value:function(event){var _keyDownActions,target=event.target,keyCode=event.keyCode,ctrlKey=event.ctrlKey,metaKey=event.metaKey;if(target===this.input.element||this.containerOuter.element.contains(target)){var activeItems=this._store.activeItems,hasFocusedInput=this.input.isFocussed,hasActiveDropdown=this.dropdown.isActive,hasItems=this.itemList.hasChildren,keyString=String.fromCharCode(keyCode),BACK_KEY=_constants.KEY_CODES.BACK_KEY,DELETE_KEY=_constants.KEY_CODES.DELETE_KEY,ENTER_KEY=_constants.KEY_CODES.ENTER_KEY,A_KEY=_constants.KEY_CODES.A_KEY,ESC_KEY=_constants.KEY_CODES.ESC_KEY,UP_KEY=_constants.KEY_CODES.UP_KEY,DOWN_KEY=_constants.KEY_CODES.DOWN_KEY,PAGE_UP_KEY=_constants.KEY_CODES.PAGE_UP_KEY,PAGE_DOWN_KEY=_constants.KEY_CODES.PAGE_DOWN_KEY,hasCtrlDownKeyPressed=ctrlKey||metaKey;!this._isTextElement&&/[a-zA-Z0-9-_ ]/.test(keyString)&&this.showDropdown();var keyDownActions=(_defineProperty(_keyDownActions={},A_KEY,this._onAKey),_defineProperty(_keyDownActions,ENTER_KEY,this._onEnterKey),_defineProperty(_keyDownActions,ESC_KEY,this._onEscapeKey),_defineProperty(_keyDownActions,UP_KEY,this._onDirectionKey),_defineProperty(_keyDownActions,PAGE_UP_KEY,this._onDirectionKey),_defineProperty(_keyDownActions,DOWN_KEY,this._onDirectionKey),_defineProperty(_keyDownActions,PAGE_DOWN_KEY,this._onDirectionKey),_defineProperty(_keyDownActions,DELETE_KEY,this._onDeleteKey),_defineProperty(_keyDownActions,BACK_KEY,this._onDeleteKey),_keyDownActions);keyDownActions[keyCode]&&keyDownActions[keyCode]({event:event,target:target,keyCode:keyCode,metaKey:metaKey,activeItems:activeItems,hasFocusedInput:hasFocusedInput,hasActiveDropdown:hasActiveDropdown,hasItems:hasItems,hasCtrlDownKeyPressed:hasCtrlDownKeyPressed})}}},{key:"_onKeyUp",value:function(_ref2){var target=_ref2.target,keyCode=_ref2.keyCode;if(target===this.input.element){var value=this.input.value,activeItems=this._store.activeItems,canAddItem=this._canAddItem(activeItems,value),backKey=_constants.KEY_CODES.BACK_KEY,deleteKey=_constants.KEY_CODES.DELETE_KEY;if(this._isTextElement){if(canAddItem.notice&&value){var dropdownItem=this._getTemplate("notice",canAddItem.notice);this.dropdown.element.innerHTML=dropdownItem.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0)}else{var userHasRemovedValue=(keyCode===backKey||keyCode===deleteKey)&&!target.value,canReactivateChoices=!this._isTextElement&&this._isSearching,canSearch=this._canSearch&&canAddItem.response;userHasRemovedValue&&canReactivateChoices?(this._isSearching=!1,this._store.dispatch((0,_choices.activateChoices)(!0))):canSearch&&this._handleSearch(this.input.value)}this._canSearch=this.config.searchEnabled}}},{key:"_onAKey",value:function(_ref3){var hasItems=_ref3.hasItems;_ref3.hasCtrlDownKeyPressed&&hasItems&&(this._canSearch=!1,this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement&&this.highlightAll())}},{key:"_onEnterKey",value:function(_ref4){var event=_ref4.event,target=_ref4.target,activeItems=_ref4.activeItems,hasActiveDropdown=_ref4.hasActiveDropdown,enterKey=_constants.KEY_CODES.ENTER_KEY,targetWasButton=target.hasAttribute("data-button");if(this._isTextElement&&target.value){var value=this.input.value;this._canAddItem(activeItems,value).response&&(this.hideDropdown(!0),this._addItem({value:value}),this._triggerChange(value),this.clearInput())}if(targetWasButton&&(this._handleButtonAction(activeItems,target),event.preventDefault()),hasActiveDropdown){var highlightedChoice=this.dropdown.getChild(".".concat(this.config.classNames.highlightedState));highlightedChoice&&(activeItems[0]&&(activeItems[0].keyCode=enterKey),this._handleChoiceAction(activeItems,highlightedChoice)),event.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),event.preventDefault())}},{key:"_onEscapeKey",value:function(_ref5){_ref5.hasActiveDropdown&&(this.hideDropdown(!0),this.containerOuter.focus())}},{key:"_onDirectionKey",value:function(_ref6){var event=_ref6.event,hasActiveDropdown=_ref6.hasActiveDropdown,keyCode=_ref6.keyCode,metaKey=_ref6.metaKey,downKey=_constants.KEY_CODES.DOWN_KEY,pageUpKey=_constants.KEY_CODES.PAGE_UP_KEY,pageDownKey=_constants.KEY_CODES.PAGE_DOWN_KEY;if(hasActiveDropdown||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var nextEl,directionInt=keyCode===downKey||keyCode===pageDownKey?1:-1;if(metaKey||keyCode===pageDownKey||keyCode===pageUpKey)nextEl=0<directionInt?Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]")).pop():this.dropdown.element.querySelector("[data-choice-selectable]");else{var currentEl=this.dropdown.element.querySelector(".".concat(this.config.classNames.highlightedState));nextEl=currentEl?(0,_utils.getAdjacentEl)(currentEl,"[data-choice-selectable]",directionInt):this.dropdown.element.querySelector("[data-choice-selectable]")}nextEl&&((0,_utils.isScrolledIntoView)(nextEl,this.choiceList.element,directionInt)||this.choiceList.scrollToChoice(nextEl,directionInt),this._highlightChoice(nextEl)),event.preventDefault()}}},{key:"_onDeleteKey",value:function(_ref7){var event=_ref7.event,target=_ref7.target,hasFocusedInput=_ref7.hasFocusedInput,activeItems=_ref7.activeItems;!hasFocusedInput||target.value||this._isSelectOneElement||(this._handleBackspace(activeItems),event.preventDefault())}},{key:"_onTouchMove",value:function(){this._wasTap&&(this._wasTap=!1)}},{key:"_onTouchEnd",value:function(event){var target=(event||event.touches[0]).target;this._wasTap&&this.containerOuter.element.contains(target)&&((target===this.containerOuter.element||target===this.containerInner.element)&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),event.stopPropagation());this._wasTap=!0}},{key:"_onMouseDown",value:function(event){var target=event.target,shiftKey=event.shiftKey;if(this.choiceList.element.contains(target)&&(0,_utils.isIE11)()&&(this._isScrollingOnIe=!0),this.containerOuter.element.contains(target)&&target!==this.input.element){var activeItems=this._store.activeItems,hasShiftKey=shiftKey,buttonTarget=(0,_utils.findAncestorByAttrName)(target,"data-button"),itemTarget=(0,_utils.findAncestorByAttrName)(target,"data-item"),choiceTarget=(0,_utils.findAncestorByAttrName)(target,"data-choice");buttonTarget?this._handleButtonAction(activeItems,buttonTarget):itemTarget?this._handleItemAction(activeItems,itemTarget,hasShiftKey):choiceTarget&&this._handleChoiceAction(activeItems,choiceTarget),event.preventDefault()}}},{key:"_onMouseOver",value:function(_ref9){var target=_ref9.target;(target===this.dropdown||this.dropdown.element.contains(target))&&target.hasAttribute("data-choice")&&this._highlightChoice(target)}},{key:"_onClick",value:function(_ref10){var target=_ref10.target;this.containerOuter.element.contains(target)?this.dropdown.isActive||this.containerOuter.isDisabled?this._isSelectOneElement&&target!==this.input.element&&!this.dropdown.element.contains(target)&&this.hideDropdown():this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus()):(this._store.highlightedActiveItems&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0))}},{key:"_onFocus",value:function(_ref11){var _this18=this,target=_ref11.target;this.containerOuter.element.contains(target)&&{text:function(){target===_this18.input.element&&_this18.containerOuter.addFocusState()},"select-one":function(){_this18.containerOuter.addFocusState(),target===_this18.input.element&&_this18.showDropdown(!0)},"select-multiple":function(){target===_this18.input.element&&(_this18.showDropdown(!0),_this18.containerOuter.addFocusState())}}[this.passedElement.element.type]()}},{key:"_onBlur",value:function(_ref12){var _this19=this,target=_ref12.target;if(this.containerOuter.element.contains(target)&&!this._isScrollingOnIe){var hasHighlightedItems=this._store.activeItems.some(function(item){return item.highlighted});({text:function(){target===_this19.input.element&&(_this19.containerOuter.removeFocusState(),hasHighlightedItems&&_this19.unhighlightAll(),_this19.hideDropdown(!0))},"select-one":function(){_this19.containerOuter.removeFocusState(),(target===_this19.input.element||target===_this19.containerOuter.element&&!_this19._canSearch)&&_this19.hideDropdown(!0)},"select-multiple":function(){target===_this19.input.element&&(_this19.containerOuter.removeFocusState(),_this19.hideDropdown(!0),hasHighlightedItems&&_this19.unhighlightAll())}})[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()}},{key:"_onFormReset",value:function(){this._store.dispatch((0,_misc.resetTo)(this._initialState))}},{key:"_highlightChoice",value:function(){var _this20=this,el=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,choices=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(choices.length){var passedEl=el;Array.from(this.dropdown.element.querySelectorAll(".".concat(this.config.classNames.highlightedState))).forEach(function(choice){choice.classList.remove(_this20.config.classNames.highlightedState),choice.setAttribute("aria-selected","false")}),passedEl?this._highlightPosition=choices.indexOf(passedEl):(passedEl=choices.length>this._highlightPosition?choices[this._highlightPosition]:choices[choices.length-1])||(passedEl=choices[0]),passedEl.classList.add(this.config.classNames.highlightedState),passedEl.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(_constants.EVENTS.highlightChoice,{el:passedEl}),this.dropdown.isActive&&(this.input.setActiveDescendant(passedEl.id),this.containerOuter.setActiveDescendant(passedEl.id))}}},{key:"_addItem",value:function(_ref13){var value=_ref13.value,_ref13$label=_ref13.label,label=void 0===_ref13$label?null:_ref13$label,_ref13$choiceId=_ref13.choiceId,choiceId=void 0===_ref13$choiceId?-1:_ref13$choiceId,_ref13$groupId=_ref13.groupId,groupId=void 0===_ref13$groupId?-1:_ref13$groupId,_ref13$customProperti=_ref13.customProperties,customProperties=void 0===_ref13$customProperti?null:_ref13$customProperti,_ref13$placeholder=_ref13.placeholder,placeholder=void 0!==_ref13$placeholder&&_ref13$placeholder,_ref13$keyCode=_ref13.keyCode,keyCode=void 0===_ref13$keyCode?null:_ref13$keyCode,passedValue=(0,_utils.isType)("String",value)?value.trim():value,passedKeyCode=keyCode,passedCustomProperties=customProperties,items=this._store.items,passedLabel=label||passedValue,passedOptionId=parseInt(choiceId,10)||-1,group=0<=groupId?this._store.getGroupById(groupId):null,id=items?items.length+1:1;return this.config.prependValue&&(passedValue=this.config.prependValue+passedValue.toString()),this.config.appendValue&&(passedValue+=this.config.appendValue.toString()),this._store.dispatch((0,_items.addItem)({value:passedValue,label:passedLabel,id:id,choiceId:passedOptionId,groupId:groupId,customProperties:customProperties,placeholder:placeholder,keyCode:passedKeyCode})),this._isSelectOneElement&&this.removeActiveItems(id),this.passedElement.triggerEvent(_constants.EVENTS.addItem,{id:id,value:passedValue,label:passedLabel,customProperties:passedCustomProperties,groupValue:group&&group.value?group.value:void 0,keyCode:passedKeyCode}),this}},{key:"_removeItem",value:function(item){if(!item||!(0,_utils.isType)("Object",item))return this;var id=item.id,value=item.value,label=item.label,choiceId=item.choiceId,groupId=item.groupId,group=0<=groupId?this._store.getGroupById(groupId):null;return this._store.dispatch((0,_items.removeItem)(id,choiceId)),group&&group.value?this.passedElement.triggerEvent(_constants.EVENTS.removeItem,{id:id,value:value,label:label,groupValue:group.value}):this.passedElement.triggerEvent(_constants.EVENTS.removeItem,{id:id,value:value,label:label}),this}},{key:"_addChoice",value:function(_ref14){var value=_ref14.value,_ref14$label=_ref14.label,label=void 0===_ref14$label?null:_ref14$label,_ref14$isSelected=_ref14.isSelected,isSelected=void 0!==_ref14$isSelected&&_ref14$isSelected,_ref14$isDisabled=_ref14.isDisabled,isDisabled=void 0!==_ref14$isDisabled&&_ref14$isDisabled,_ref14$groupId=_ref14.groupId,groupId=void 0===_ref14$groupId?-1:_ref14$groupId,_ref14$customProperti=_ref14.customProperties,customProperties=void 0===_ref14$customProperti?null:_ref14$customProperti,_ref14$placeholder=_ref14.placeholder,placeholder=void 0!==_ref14$placeholder&&_ref14$placeholder,_ref14$keyCode=_ref14.keyCode,keyCode=void 0===_ref14$keyCode?null:_ref14$keyCode;if(null!=value){var choices=this._store.choices,choiceLabel=label||value,choiceId=choices?choices.length+1:1,choiceElementId="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(choiceId);this._store.dispatch((0,_choices.addChoice)({value:value,label:choiceLabel,id:choiceId,groupId:groupId,disabled:isDisabled,elementId:choiceElementId,customProperties:customProperties,placeholder:placeholder,keyCode:keyCode})),isSelected&&this._addItem({value:value,label:choiceLabel,choiceId:choiceId,customProperties:customProperties,placeholder:placeholder,keyCode:keyCode})}}},{key:"_addGroup",value:function(_ref15){var _this21=this,group=_ref15.group,id=_ref15.id,_ref15$valueKey=_ref15.valueKey,valueKey=void 0===_ref15$valueKey?"value":_ref15$valueKey,_ref15$labelKey=_ref15.labelKey,labelKey=void 0===_ref15$labelKey?"label":_ref15$labelKey,groupChoices=(0,_utils.isType)("Object",group)?group.choices:Array.from(group.getElementsByTagName("OPTION")),groupId=id||Math.floor((new Date).valueOf()*Math.random()),isDisabled=!!group.disabled&&group.disabled;if(groupChoices){this._store.dispatch((0,_groups.addGroup)(group.label,groupId,!0,isDisabled));groupChoices.forEach(function(choice){var isOptDisabled=choice.disabled||choice.parentNode&&choice.parentNode.disabled;_this21._addChoice({value:choice[valueKey],label:(0,_utils.isType)("Object",choice)?choice[labelKey]:choice.innerHTML,isSelected:choice.selected,isDisabled:isOptDisabled,groupId:groupId,customProperties:choice.customProperties,placeholder:choice.placeholder})})}else this._store.dispatch((0,_groups.addGroup)(group.label,group.id,!1,group.disabled))}},{key:"_getTemplate",value:function(template){var _templates$template;if(!template)return null;for(var _this$config4=this.config,templates=_this$config4.templates,classNames=_this$config4.classNames,_len=arguments.length,args=new Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return(_templates$template=templates[template]).call.apply(_templates$template,[this,classNames].concat(args))}},{key:"_createTemplates",value:function(){var callbackOnCreateTemplates=this.config.callbackOnCreateTemplates,userTemplates={};callbackOnCreateTemplates&&(0,_utils.isType)("Function",callbackOnCreateTemplates)&&(userTemplates=callbackOnCreateTemplates.call(this,_utils.strToEl)),this.config.templates=(0,_deepmerge.default)(_templates.TEMPLATES,userTemplates)}},{key:"_createElements",value:function(){this.containerOuter=new _components.Container({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new _components.Container({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new _components.Input({element:this._getTemplate("input"),classNames:this.config.classNames,type:this.passedElement.element.type}),this.choiceList=new _components.List({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new _components.List({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new _components.Dropdown({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})}},{key:"_createStructure",value:function(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth(!0)),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement?this._addPredefinedChoices():this._isTextElement&&this._addPredefinedItems()}},{key:"_addPredefinedChoices",value:function(){var _this22=this,passedGroups=this.passedElement.optionGroups;if(this._highlightPosition=0,this._isSearching=!1,this._setLoading(!0),passedGroups&&passedGroups.length){var placeholderChoice=this.passedElement.placeholderOption;placeholderChoice&&"SELECT"===placeholderChoice.parentNode.tagName&&this._addChoice({value:placeholderChoice.value,label:placeholderChoice.innerHTML,isSelected:placeholderChoice.selected,isDisabled:placeholderChoice.disabled,placeholder:!0}),passedGroups.forEach(function(group){return _this22._addGroup({group:group,id:group.id||null})})}else{var passedOptions=this.passedElement.options,filter=this.config.sortFn,allChoices=this._presetChoices;passedOptions.forEach(function(o){allChoices.push({value:o.value,label:o.innerHTML,selected:o.selected,disabled:o.disabled||o.parentNode.disabled,placeholder:o.hasAttribute("placeholder"),customProperties:o.getAttribute("data-custom-properties")})}),this.config.shouldSort&&allChoices.sort(filter);var hasSelectedChoice=allChoices.some(function(choice){return choice.selected});allChoices.forEach(function(choice,index){return function(choice,index){var value=choice.value,label=choice.label,customProperties=choice.customProperties,placeholder=choice.placeholder;if(_this22._isSelectElement)if(choice.choices)_this22._addGroup({group:choice,id:choice.id||null});else{var shouldPreselect=_this22._isSelectOneElement&&!hasSelectedChoice&&0===index,isSelected=!!shouldPreselect||choice.selected,isDisabled=!shouldPreselect&&choice.disabled;_this22._addChoice({value:value,label:label,isSelected:isSelected,isDisabled:isDisabled,customProperties:customProperties,placeholder:placeholder})}else _this22._addChoice({value:value,label:label,isSelected:choice.selected,isDisabled:choice.disabled,customProperties:customProperties,placeholder:placeholder})}(choice,index)})}this._setLoading(!1)}},{key:"_addPredefinedItems",value:function(){var _this23=this;this._presetItems.forEach(function(item){return function(item){var itemType=(0,_utils.getType)(item);"Object"===itemType&&item.value?_this23._addItem({value:item.value,label:item.label,choiceId:item.id,customProperties:item.customProperties,placeholder:item.placeholder}):"String"===itemType&&_this23._addItem({value:item})}(item)})}},{key:"_setChoiceOrItem",value:function(item){var _this24=this;({object:function(){item.value&&(_this24._isTextElement?_this24._addItem({value:item.value,label:item.label,choiceId:item.id,customProperties:item.customProperties,placeholder:item.placeholder}):_this24._addChoice({value:item.value,label:item.label,isSelected:!0,isDisabled:!1,customProperties:item.customProperties,placeholder:item.placeholder}))},string:function(){_this24._isTextElement?_this24._addItem({value:item}):_this24._addChoice({value:item,label:item,isSelected:!0,isDisabled:!1})}})[(0,_utils.getType)(item).toLowerCase()]()}},{key:"_findAndSelectChoiceByValue",value:function(val){var _this25=this,foundChoice=this._store.choices.find(function(choice){return _this25.config.itemComparer(choice.value,val)});foundChoice&&!foundChoice.selected&&this._addItem({value:foundChoice.value,label:foundChoice.label,choiceId:foundChoice.id,groupId:foundChoice.groupId,customProperties:foundChoice.customProperties,placeholder:foundChoice.placeholder,keyCode:foundChoice.keyCode})}},{key:"_generateInstances",value:function(elements,config){return elements.reduce(function(instances,element){return instances.push(new Choices(element,config)),instances},[this])}},{key:"_generatePlaceholderValue",value:function(){return!this._isSelectOneElement&&(!!this.config.placeholder&&(this.config.placeholderValue||this.passedElement.element.getAttribute("placeholder")))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Choices}();Choices.userDefaults={},module.exports=Choices},function(module,exports,__webpack_require__){var factory;factory=function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s="./src/index.js")}({"./src/bitap/bitap_matched_indices.js":function(module,exports){module.exports=function(){for(var matchmask=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],minMatchCharLength=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,matchedIndices=[],start=-1,end=-1,i=0,len=matchmask.length;i<len;i+=1){var match=matchmask[i];match&&-1===start?start=i:match||-1===start||(minMatchCharLength<=(end=i-1)-start+1&&matchedIndices.push([start,end]),start=-1)}return matchmask[i-1]&&minMatchCharLength<=i-start&&matchedIndices.push([start,i-1]),matchedIndices}},"./src/bitap/bitap_pattern_alphabet.js":function(module,exports){module.exports=function(pattern){for(var mask={},len=pattern.length,i=0;i<len;i+=1)mask[pattern.charAt(i)]=0;for(var _i=0;_i<len;_i+=1)mask[pattern.charAt(_i)]|=1<<len-_i-1;return mask}},"./src/bitap/bitap_regex_search.js":function(module,exports){var SPECIAL_CHARS_REGEX=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;module.exports=function(text,pattern){var tokenSeparator=2<arguments.length&&void 0!==arguments[2]?arguments[2]:/ +/g,regex=new RegExp(pattern.replace(SPECIAL_CHARS_REGEX,"\\$&").replace(tokenSeparator,"|")),matches=text.match(regex),isMatch=!!matches,matchedIndices=[];if(isMatch)for(var i=0,matchesLen=matches.length;i<matchesLen;i+=1){var match=matches[i];matchedIndices.push([text.indexOf(match),match.length-1])}return{score:isMatch?.5:1,isMatch:isMatch,matchedIndices:matchedIndices}}},"./src/bitap/bitap_score.js":function(module,exports){module.exports=function(pattern,_ref){var _ref$errors=_ref.errors,errors=void 0===_ref$errors?0:_ref$errors,_ref$currentLocation=_ref.currentLocation,currentLocation=void 0===_ref$currentLocation?0:_ref$currentLocation,_ref$expectedLocation=_ref.expectedLocation,expectedLocation=void 0===_ref$expectedLocation?0:_ref$expectedLocation,_ref$distance=_ref.distance,distance=void 0===_ref$distance?100:_ref$distance,accuracy=errors/pattern.length,proximity=Math.abs(expectedLocation-currentLocation);return distance?accuracy+proximity/distance:proximity?1:accuracy}},"./src/bitap/bitap_search.js":function(module,exports,__webpack_require__){var bitapScore=__webpack_require__("./src/bitap/bitap_score.js"),matchedIndices=__webpack_require__("./src/bitap/bitap_matched_indices.js");module.exports=function(text,pattern,patternAlphabet,_ref){for(var _ref$location=_ref.location,location=void 0===_ref$location?0:_ref$location,_ref$distance=_ref.distance,distance=void 0===_ref$distance?100:_ref$distance,_ref$threshold=_ref.threshold,threshold=void 0===_ref$threshold?.6:_ref$threshold,_ref$findAllMatches=_ref.findAllMatches,findAllMatches=void 0!==_ref$findAllMatches&&_ref$findAllMatches,_ref$minMatchCharLeng=_ref.minMatchCharLength,minMatchCharLength=void 0===_ref$minMatchCharLeng?1:_ref$minMatchCharLeng,expectedLocation=location,textLen=text.length,currentThreshold=threshold,bestLocation=text.indexOf(pattern,expectedLocation),patternLen=pattern.length,matchMask=[],i=0;i<textLen;i+=1)matchMask[i]=0;if(-1!==bestLocation){var score=bitapScore(pattern,{errors:0,currentLocation:bestLocation,expectedLocation:expectedLocation,distance:distance});if(currentThreshold=Math.min(score,currentThreshold),-1!==(bestLocation=text.lastIndexOf(pattern,expectedLocation+patternLen))){var _score=bitapScore(pattern,{errors:0,currentLocation:bestLocation,expectedLocation:expectedLocation,distance:distance});currentThreshold=Math.min(_score,currentThreshold)}}bestLocation=-1;for(var lastBitArr=[],finalScore=1,binMax=patternLen+textLen,mask=1<<patternLen-1,_i=0;_i<patternLen;_i+=1){for(var binMin=0,binMid=binMax;binMin<binMid;){bitapScore(pattern,{errors:_i,currentLocation:expectedLocation+binMid,expectedLocation:expectedLocation,distance:distance})<=currentThreshold?binMin=binMid:binMax=binMid,binMid=Math.floor((binMax-binMin)/2+binMin)}binMax=binMid;var start=Math.max(1,expectedLocation-binMid+1),finish=findAllMatches?textLen:Math.min(expectedLocation+binMid,textLen)+patternLen,bitArr=Array(finish+2);bitArr[finish+1]=(1<<_i)-1;for(var j=finish;start<=j;j-=1){var currentLocation=j-1,charMatch=patternAlphabet[text.charAt(currentLocation)];if(charMatch&&(matchMask[currentLocation]=1),bitArr[j]=(bitArr[j+1]<<1|1)&charMatch,0!==_i&&(bitArr[j]|=(lastBitArr[j+1]|lastBitArr[j])<<1|1|lastBitArr[j+1]),bitArr[j]&mask&&(finalScore=bitapScore(pattern,{errors:_i,currentLocation:currentLocation,expectedLocation:expectedLocation,distance:distance}))<=currentThreshold){if(currentThreshold=finalScore,(bestLocation=currentLocation)<=expectedLocation)break;start=Math.max(1,2*expectedLocation-bestLocation)}}if(currentThreshold<bitapScore(pattern,{errors:_i+1,currentLocation:expectedLocation,expectedLocation:expectedLocation,distance:distance}))break;lastBitArr=bitArr}return{isMatch:0<=bestLocation,score:0===finalScore?.001:finalScore,matchedIndices:matchedIndices(matchMask,minMatchCharLength)}}},"./src/bitap/index.js":function(module,exports,__webpack_require__){function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var bitapRegexSearch=__webpack_require__("./src/bitap/bitap_regex_search.js"),bitapSearch=__webpack_require__("./src/bitap/bitap_search.js"),patternAlphabet=__webpack_require__("./src/bitap/bitap_pattern_alphabet.js"),Bitap=function(){function Bitap(pattern,_ref){var _ref$location=_ref.location,location=void 0===_ref$location?0:_ref$location,_ref$distance=_ref.distance,distance=void 0===_ref$distance?100:_ref$distance,_ref$threshold=_ref.threshold,threshold=void 0===_ref$threshold?.6:_ref$threshold,_ref$maxPatternLength=_ref.maxPatternLength,maxPatternLength=void 0===_ref$maxPatternLength?32:_ref$maxPatternLength,_ref$isCaseSensitive=_ref.isCaseSensitive,isCaseSensitive=void 0!==_ref$isCaseSensitive&&_ref$isCaseSensitive,_ref$tokenSeparator=_ref.tokenSeparator,tokenSeparator=void 0===_ref$tokenSeparator?/ +/g:_ref$tokenSeparator,_ref$findAllMatches=_ref.findAllMatches,findAllMatches=void 0!==_ref$findAllMatches&&_ref$findAllMatches,_ref$minMatchCharLeng=_ref.minMatchCharLength,minMatchCharLength=void 0===_ref$minMatchCharLeng?1:_ref$minMatchCharLeng;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Bitap),this.options={location:location,distance:distance,threshold:threshold,maxPatternLength:maxPatternLength,isCaseSensitive:isCaseSensitive,tokenSeparator:tokenSeparator,findAllMatches:findAllMatches,minMatchCharLength:minMatchCharLength},this.pattern=this.options.isCaseSensitive?pattern:pattern.toLowerCase(),this.pattern.length<=maxPatternLength&&(this.patternAlphabet=patternAlphabet(this.pattern))}var Constructor,protoProps,staticProps;return Constructor=Bitap,(protoProps=[{key:"search",value:function(text){if(this.options.isCaseSensitive||(text=text.toLowerCase()),this.pattern===text)return{isMatch:!0,score:0,matchedIndices:[[0,text.length-1]]};var _this$options=this.options,maxPatternLength=_this$options.maxPatternLength,tokenSeparator=_this$options.tokenSeparator;if(this.pattern.length>maxPatternLength)return bitapRegexSearch(text,this.pattern,tokenSeparator);var _this$options2=this.options,location=_this$options2.location,distance=_this$options2.distance,threshold=_this$options2.threshold,findAllMatches=_this$options2.findAllMatches,minMatchCharLength=_this$options2.minMatchCharLength;return bitapSearch(text,this.pattern,this.patternAlphabet,{location:location,distance:distance,threshold:threshold,findAllMatches:findAllMatches,minMatchCharLength:minMatchCharLength})}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Bitap}();module.exports=Bitap},"./src/helpers/deep_value.js":function(module,exports,__webpack_require__){var isArray=__webpack_require__("./src/helpers/is_array.js");module.exports=function(obj,path){return function deepValue(obj,path,list){if(path){var dotIndex=path.indexOf("."),firstSegment=path,remaining=null;-1!==dotIndex&&(firstSegment=path.slice(0,dotIndex),remaining=path.slice(dotIndex+1));var value=obj[firstSegment];if(null!=value)if(remaining||"string"!=typeof value&&"number"!=typeof value)if(isArray(value))for(var i=0,len=value.length;i<len;i+=1)deepValue(value[i],remaining,list);else remaining&&deepValue(value,remaining,list);else list.push(value.toString())}else list.push(obj);return list}(obj,path,[])}},"./src/helpers/is_array.js":function(module,exports){module.exports=function(obj){return Array.isArray?Array.isArray(obj):"[object Array]"===Object.prototype.toString.call(obj)}},"./src/index.js":function(module,exports,__webpack_require__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Bitap=__webpack_require__("./src/bitap/index.js"),deepValue=__webpack_require__("./src/helpers/deep_value.js"),isArray=__webpack_require__("./src/helpers/is_array.js"),Fuse=function(){function Fuse(list,_ref){var _ref$location=_ref.location,location=void 0===_ref$location?0:_ref$location,_ref$distance=_ref.distance,distance=void 0===_ref$distance?100:_ref$distance,_ref$threshold=_ref.threshold,threshold=void 0===_ref$threshold?.6:_ref$threshold,_ref$maxPatternLength=_ref.maxPatternLength,maxPatternLength=void 0===_ref$maxPatternLength?32:_ref$maxPatternLength,_ref$caseSensitive=_ref.caseSensitive,caseSensitive=void 0!==_ref$caseSensitive&&_ref$caseSensitive,_ref$tokenSeparator=_ref.tokenSeparator,tokenSeparator=void 0===_ref$tokenSeparator?/ +/g:_ref$tokenSeparator,_ref$findAllMatches=_ref.findAllMatches,findAllMatches=void 0!==_ref$findAllMatches&&_ref$findAllMatches,_ref$minMatchCharLeng=_ref.minMatchCharLength,minMatchCharLength=void 0===_ref$minMatchCharLeng?1:_ref$minMatchCharLeng,_ref$id=_ref.id,id=void 0===_ref$id?null:_ref$id,_ref$keys=_ref.keys,keys=void 0===_ref$keys?[]:_ref$keys,_ref$shouldSort=_ref.shouldSort,shouldSort=void 0===_ref$shouldSort||_ref$shouldSort,_ref$getFn=_ref.getFn,getFn=void 0===_ref$getFn?deepValue:_ref$getFn,_ref$sortFn=_ref.sortFn,sortFn=void 0===_ref$sortFn?function(a,b){return a.score-b.score}:_ref$sortFn,_ref$tokenize=_ref.tokenize,tokenize=void 0!==_ref$tokenize&&_ref$tokenize,_ref$matchAllTokens=_ref.matchAllTokens,matchAllTokens=void 0!==_ref$matchAllTokens&&_ref$matchAllTokens,_ref$includeMatches=_ref.includeMatches,includeMatches=void 0!==_ref$includeMatches&&_ref$includeMatches,_ref$includeScore=_ref.includeScore,includeScore=void 0!==_ref$includeScore&&_ref$includeScore,_ref$verbose=_ref.verbose,verbose=void 0!==_ref$verbose&&_ref$verbose;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Fuse),this.options={location:location,distance:distance,threshold:threshold,maxPatternLength:maxPatternLength,isCaseSensitive:caseSensitive,tokenSeparator:tokenSeparator,findAllMatches:findAllMatches,minMatchCharLength:minMatchCharLength,id:id,keys:keys,includeMatches:includeMatches,includeScore:includeScore,shouldSort:shouldSort,getFn:getFn,sortFn:sortFn,verbose:verbose,tokenize:tokenize,matchAllTokens:matchAllTokens},this.setCollection(list)}var Constructor,protoProps,staticProps;return Constructor=Fuse,(protoProps=[{key:"setCollection",value:function(list){return this.list=list}},{key:"search",value:function(pattern){var opts=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(pattern,'"'));var _this$_prepareSearche=this._prepareSearchers(pattern),tokenSearchers=_this$_prepareSearche.tokenSearchers,fullSearcher=_this$_prepareSearche.fullSearcher,_this$_search=this._search(tokenSearchers,fullSearcher),weights=_this$_search.weights,results=_this$_search.results;return this._computeScore(weights,results),this.options.shouldSort&&this._sort(results),opts.limit&&"number"==typeof opts.limit&&(results=results.slice(0,opts.limit)),this._format(results)}},{key:"_prepareSearchers",value:function(){var pattern=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",tokenSearchers=[];if(this.options.tokenize)for(var tokens=pattern.split(this.options.tokenSeparator),i=0,len=tokens.length;i<len;i+=1)tokenSearchers.push(new Bitap(tokens[i],this.options));return{tokenSearchers:tokenSearchers,fullSearcher:new Bitap(pattern,this.options)}}},{key:"_search",value:function(){var tokenSearchers=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],fullSearcher=1<arguments.length?arguments[1]:void 0,list=this.list,resultMap={},results=[];if("string"==typeof list[0]){for(var i=0,len=list.length;i<len;i+=1)this._analyze({key:"",value:list[i],record:i,index:i},{resultMap:resultMap,results:results,tokenSearchers:tokenSearchers,fullSearcher:fullSearcher});return{weights:null,results:results}}for(var weights={},_i=0,_len=list.length;_i<_len;_i+=1)for(var item=list[_i],j=0,keysLen=this.options.keys.length;j<keysLen;j+=1){var key=this.options.keys[j];if("string"!=typeof key){if(weights[key.name]={weight:1-key.weight||1},key.weight<=0||1<key.weight)throw new Error("Key weight has to be > 0 and <= 1");key=key.name}else weights[key]={weight:1};this._analyze({key:key,value:this.options.getFn(item,key),record:item,index:_i},{resultMap:resultMap,results:results,tokenSearchers:tokenSearchers,fullSearcher:fullSearcher})}return{weights:weights,results:results}}},{key:"_analyze",value:function(_ref2,_ref3){var key=_ref2.key,_ref2$arrayIndex=_ref2.arrayIndex,arrayIndex=void 0===_ref2$arrayIndex?-1:_ref2$arrayIndex,value=_ref2.value,record=_ref2.record,index=_ref2.index,_ref3$tokenSearchers=_ref3.tokenSearchers,tokenSearchers=void 0===_ref3$tokenSearchers?[]:_ref3$tokenSearchers,_ref3$fullSearcher=_ref3.fullSearcher,fullSearcher=void 0===_ref3$fullSearcher?[]:_ref3$fullSearcher,_ref3$resultMap=_ref3.resultMap,resultMap=void 0===_ref3$resultMap?{}:_ref3$resultMap,_ref3$results=_ref3.results,results=void 0===_ref3$results?[]:_ref3$results;if(null!=value){var exists=!1,averageScore=-1,numTextMatches=0;if("string"==typeof value){this._log("\nKey: ".concat(""===key?"-":key));var mainSearchResult=fullSearcher.search(value);if(this._log('Full text: "'.concat(value,'", score: ').concat(mainSearchResult.score)),this.options.tokenize){for(var words=value.split(this.options.tokenSeparator),scores=[],i=0;i<tokenSearchers.length;i+=1){var tokenSearcher=tokenSearchers[i];this._log('\nPattern: "'.concat(tokenSearcher.pattern,'"'));for(var hasMatchInText=!1,j=0;j<words.length;j+=1){var word=words[j],tokenSearchResult=tokenSearcher.search(word),obj={};tokenSearchResult.isMatch?(obj[word]=tokenSearchResult.score,hasMatchInText=exists=!0,scores.push(tokenSearchResult.score)):(obj[word]=1,this.options.matchAllTokens||scores.push(1)),this._log('Token: "'.concat(word,'", score: ').concat(obj[word]))}hasMatchInText&&(numTextMatches+=1)}averageScore=scores[0];for(var scoresLen=scores.length,_i2=1;_i2<scoresLen;_i2+=1)averageScore+=scores[_i2];averageScore/=scoresLen,this._log("Token score average:",averageScore)}var finalScore=mainSearchResult.score;-1<averageScore&&(finalScore=(finalScore+averageScore)/2),this._log("Score average:",finalScore);var checkTextMatches=!this.options.tokenize||!this.options.matchAllTokens||numTextMatches>=tokenSearchers.length;if(this._log("\nCheck Matches: ".concat(checkTextMatches)),(exists||mainSearchResult.isMatch)&&checkTextMatches){var existingResult=resultMap[index];existingResult?existingResult.output.push({key:key,arrayIndex:arrayIndex,value:value,score:finalScore,matchedIndices:mainSearchResult.matchedIndices}):(resultMap[index]={item:record,output:[{key:key,arrayIndex:arrayIndex,value:value,score:finalScore,matchedIndices:mainSearchResult.matchedIndices}]},results.push(resultMap[index]))}}else if(isArray(value))for(var _i3=0,len=value.length;_i3<len;_i3+=1)this._analyze({key:key,arrayIndex:_i3,value:value[_i3],record:record,index:index},{resultMap:resultMap,results:results,tokenSearchers:tokenSearchers,fullSearcher:fullSearcher})}}},{key:"_computeScore",value:function(weights,results){this._log("\n\nComputing score:\n");for(var i=0,len=results.length;i<len;i+=1){for(var output=results[i].output,scoreLen=output.length,currScore=1,bestScore=1,j=0;j<scoreLen;j+=1){var weight=weights?weights[output[j].key].weight:1,nScore=(1===weight?output[j].score:output[j].score||.001)*weight;1!==weight?bestScore=Math.min(bestScore,nScore):currScore*=output[j].nScore=nScore}results[i].score=1===bestScore?currScore:bestScore,this._log(results[i])}}},{key:"_sort",value:function(results){this._log("\n\nSorting...."),results.sort(this.options.sortFn)}},{key:"_format",value:function(results){var finalOutput=[];if(this.options.verbose){var cache=[];this._log("\n\nOutput:\n\n",JSON.stringify(results,function(key,value){if("object"===_typeof(value)&&null!==value){if(-1!==cache.indexOf(value))return;cache.push(value)}return value})),cache=null}var transformers=[];this.options.includeMatches&&transformers.push(function(result,data){var output=result.output;data.matches=[];for(var i=0,len=output.length;i<len;i+=1){var item=output[i];if(0!==item.matchedIndices.length){var obj={indices:item.matchedIndices,value:item.value};item.key&&(obj.key=item.key),item.hasOwnProperty("arrayIndex")&&-1<item.arrayIndex&&(obj.arrayIndex=item.arrayIndex),data.matches.push(obj)}}}),this.options.includeScore&&transformers.push(function(result,data){data.score=result.score});for(var i=0,len=results.length;i<len;i+=1){var result=results[i];if(this.options.id&&(result.item=this.options.getFn(result.item,this.options.id)[0]),transformers.length){for(var data={item:result.item},j=0,_len2=transformers.length;j<_len2;j+=1)transformers[j](result,data);finalOutput.push(data)}else finalOutput.push(result.item)}return finalOutput}},{key:"_log",value:function(){var _console;this.options.verbose&&(_console=console).log.apply(_console,arguments)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Fuse}();module.exports=Fuse}})},module.exports=factory()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var isMergeableObject=function(value){return function(value){return!!value&&"object"==typeof value}(value)&&!function(value){var stringValue=Object.prototype.toString.call(value);return"[object RegExp]"===stringValue||"[object Date]"===stringValue||function(value){return value.$$typeof===REACT_ELEMENT_TYPE}(value)}(value)};var REACT_ELEMENT_TYPE="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function cloneUnlessOtherwiseSpecified(value,options){return!1!==options.clone&&options.isMergeableObject(value)?deepmerge((val=value,Array.isArray(val)?[]:{}),value,options):value;var val}function defaultArrayMerge(target,source,options){return target.concat(source).map(function(element){return cloneUnlessOtherwiseSpecified(element,options)})}function deepmerge(target,source,options){(options=options||{}).arrayMerge=options.arrayMerge||defaultArrayMerge,options.isMergeableObject=options.isMergeableObject||isMergeableObject;var sourceIsArray=Array.isArray(source);return sourceIsArray===Array.isArray(target)?sourceIsArray?options.arrayMerge(target,source,options):function(target,source,options){var destination={};return options.isMergeableObject(target)&&Object.keys(target).forEach(function(key){destination[key]=cloneUnlessOtherwiseSpecified(target[key],options)}),Object.keys(source).forEach(function(key){options.isMergeableObject(source[key])&&target[key]?destination[key]=deepmerge(target[key],source[key],options):destination[key]=cloneUnlessOtherwiseSpecified(source[key],options)}),destination}(target,source,options):cloneUnlessOtherwiseSpecified(source,options)}deepmerge.all=function(array,options){if(!Array.isArray(array))throw new Error("first argument should be an array");return array.reduce(function(prev,next){return deepmerge(prev,next,options)},{})};var deepmerge_1=deepmerge;__webpack_exports__.default=deepmerge_1},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_redux=__webpack_require__(6),_index=(obj=__webpack_require__(15))&&obj.__esModule?obj:{default:obj};function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Store=function(){function Store(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Store),this._store=(0,_redux.createStore)(_index.default,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}var Constructor,protoProps,staticProps;return Constructor=Store,(protoProps=[{key:"subscribe",value:function(onChange){this._store.subscribe(onChange)}},{key:"dispatch",value:function(action){this._store.dispatch(action)}},{key:"isLoading",value:function(){return this.state.general.loading}},{key:"getChoiceById",value:function(id){return!!id&&this.activeChoices.find(function(choice){return choice.id===parseInt(id,10)})}},{key:"getGroupById",value:function(id){return this.groups.find(function(group){return group.id===parseInt(id,10)})}},{key:"state",get:function(){return this._store.getState()}},{key:"items",get:function(){return this.state.items}},{key:"activeItems",get:function(){return this.items.filter(function(item){return!0===item.active})}},{key:"highlightedActiveItems",get:function(){return this.items.filter(function(item){return item.active&&item.highlighted})}},{key:"choices",get:function(){return this.state.choices}},{key:"activeChoices",get:function(){return this.choices.filter(function(choice){return!0===choice.active})}},{key:"selectableChoices",get:function(){return this.choices.filter(function(choice){return!0!==choice.disabled})}},{key:"searchableChoices",get:function(){return this.selectableChoices.filter(function(choice){return!0!==choice.placeholder})}},{key:"placeholderChoice",get:function(){return[].concat(this.choices).reverse().find(function(choice){return!0===choice.placeholder})}},{key:"groups",get:function(){return this.state.groups}},{key:"activeGroups",get:function(){var groups=this.groups,choices=this.choices;return groups.filter(function(group){var isActive=!0===group.active&&!1===group.disabled,hasActiveOptions=choices.some(function(choice){return!0===choice.active&&!1===choice.disabled});return isActive&&hasActiveOptions},[])}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Store}();exports.default=Store},function(module,exports){module.exports=function(originalModule){if(!originalModule.webpackPolyfill){var module=Object.create(originalModule);module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),Object.defineProperty(module,"exports",{enumerable:!0}),module.webpackPolyfill=1}return module}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _redux=__webpack_require__(6),_items=_interopRequireDefault(__webpack_require__(16)),_groups=_interopRequireDefault(__webpack_require__(17)),_choices=_interopRequireDefault(__webpack_require__(18)),_general=_interopRequireDefault(__webpack_require__(19)),_utils=__webpack_require__(0);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var appReducer=(0,_redux.combineReducers)({items:_items.default,groups:_groups.default,choices:_choices.default,general:_general.default}),_default=function(passedState,action){var state=passedState;if("CLEAR_ALL"===action.type)state=void 0;else if("RESET_TO"===action.type)return(0,_utils.cloneObject)(action.state);return appReducer(state,action)};exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:defaultState,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case"ADD_ITEM":var newState=[].concat(state,[{id:action.id,choiceId:action.choiceId,groupId:action.groupId,value:action.value,label:action.label,active:!0,highlighted:!1,customProperties:action.customProperties,placeholder:action.placeholder||!1,keyCode:null}]);return newState.map(function(obj){var item=obj;return item.highlighted=!1,item});case"REMOVE_ITEM":return state.map(function(obj){var item=obj;return item.id===action.id&&(item.active=!1),item});case"HIGHLIGHT_ITEM":return state.map(function(obj){var item=obj;return item.id===action.id&&(item.highlighted=action.highlighted),item});default:return state}},exports.defaultState=void 0;var defaultState=[];exports.defaultState=defaultState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:defaultState,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case"ADD_GROUP":return[].concat(state,[{id:action.id,value:action.value,active:action.active,disabled:action.disabled}]);case"CLEAR_CHOICES":return[];default:return state}},exports.defaultState=void 0;var defaultState=[];exports.defaultState=defaultState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:defaultState,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case"ADD_CHOICE":return[].concat(state,[{id:action.id,elementId:action.elementId,groupId:action.groupId,value:action.value,label:action.label||action.value,disabled:action.disabled||!1,selected:!1,active:!0,score:9999,customProperties:action.customProperties,placeholder:action.placeholder||!1,keyCode:null}]);case"ADD_ITEM":return action.activateOptions?state.map(function(obj){var choice=obj;return choice.active=action.active,choice}):-1<action.choiceId?state.map(function(obj){var choice=obj;return choice.id===parseInt(action.choiceId,10)&&(choice.selected=!0),choice}):state;case"REMOVE_ITEM":return-1<action.choiceId?state.map(function(obj){var choice=obj;return choice.id===parseInt(action.choiceId,10)&&(choice.selected=!1),choice}):state;case"FILTER_CHOICES":return state.map(function(obj){var choice=obj;return choice.active=action.results.some(function(_ref){var item=_ref.item,score=_ref.score;return item.id===choice.id&&(choice.score=score,!0)}),choice});case"ACTIVATE_CHOICES":return state.map(function(obj){var choice=obj;return choice.active=action.active,choice});case"CLEAR_CHOICES":return defaultState;default:return state}},exports.defaultState=void 0;var defaultState=[];exports.defaultState=defaultState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.defaultState=void 0;var defaultState={loading:!1};exports.defaultState=defaultState;var _default=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:defaultState,action=1<arguments.length?arguments[1]:void 0;switch(action.type){case"SET_IS_LOADING":return{loading:action.isLoading};default:return state}};exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Dropdown",{enumerable:!0,get:function(){return _dropdown.default}}),Object.defineProperty(exports,"Container",{enumerable:!0,get:function(){return _container.default}}),Object.defineProperty(exports,"Input",{enumerable:!0,get:function(){return _input.default}}),Object.defineProperty(exports,"List",{enumerable:!0,get:function(){return _list.default}}),Object.defineProperty(exports,"WrappedInput",{enumerable:!0,get:function(){return _wrappedInput.default}}),Object.defineProperty(exports,"WrappedSelect",{enumerable:!0,get:function(){return _wrappedSelect.default}});var _dropdown=_interopRequireDefault(__webpack_require__(21)),_container=_interopRequireDefault(__webpack_require__(22)),_input=_interopRequireDefault(__webpack_require__(23)),_list=_interopRequireDefault(__webpack_require__(24)),_wrappedInput=_interopRequireDefault(__webpack_require__(25)),_wrappedSelect=_interopRequireDefault(__webpack_require__(26));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var Dropdown=function(){function Dropdown(_ref){var element=_ref.element,type=_ref.type,classNames=_ref.classNames;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Dropdown),Object.assign(this,{element:element,type:type,classNames:classNames}),this.isActive=!1}var Constructor,protoProps,staticProps;return Constructor=Dropdown,(protoProps=[{key:"distanceFromTopWindow",value:function(){return this.dimensions=this.element.getBoundingClientRect(),this.position=Math.ceil(this.dimensions.top+window.pageYOffset+this.element.offsetHeight),this.position}},{key:"getChild",value:function(selector){return this.element.querySelector(selector)}},{key:"show",value:function(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this}},{key:"hide",value:function(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Dropdown}();exports.default=Dropdown},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _utils=__webpack_require__(0);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Container=function(){function Container(_ref){var element=_ref.element,type=_ref.type,classNames=_ref.classNames,position=_ref.position;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Container),Object.assign(this,{element:element,classNames:classNames,type:type,position:position}),this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}var Constructor,protoProps,staticProps;return Constructor=Container,(protoProps=[{key:"addEventListeners",value:function(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)}},{key:"removeEventListeners",value:function(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)}},{key:"shouldFlip",value:function(dropdownPos){var windowHeight=1<arguments.length&&void 0!==arguments[1]?arguments[1]:(0,_utils.getWindowHeight)();if(void 0===dropdownPos)return!1;var shouldFlip=!1;return"auto"===this.position?shouldFlip=windowHeight<=dropdownPos:"top"===this.position&&(shouldFlip=!0),shouldFlip}},{key:"setActiveDescendant",value:function(activeDescendantID){this.element.setAttribute("aria-activedescendant",activeDescendantID)}},{key:"removeActiveDescendant",value:function(){this.element.removeAttribute("aria-activedescendant")}},{key:"open",value:function(dropdownPos){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(dropdownPos)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)}},{key:"close",value:function(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)}},{key:"focus",value:function(){this.isFocussed||this.element.focus()}},{key:"addFocusState",value:function(){this.element.classList.add(this.classNames.focusState)}},{key:"removeFocusState",value:function(){this.element.classList.remove(this.classNames.focusState)}},{key:"enable",value:function(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),"select-one"===this.type&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1}},{key:"disable",value:function(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),"select-one"===this.type&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0}},{key:"wrap",value:function(element){(0,_utils.wrap)(element,this.element)}},{key:"unwrap",value:function(element){this.element.parentNode.insertBefore(element,this.element),this.element.parentNode.removeChild(this.element)}},{key:"addLoadingState",value:function(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0}},{key:"removeLoadingState",value:function(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1}},{key:"_onFocus",value:function(){this.isFocussed=!0}},{key:"_onBlur",value:function(){this.isFocussed=!1}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Container}();exports.default=Container},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _utils=__webpack_require__(0);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Input=function(){function Input(_ref){var element=_ref.element,type=_ref.type,classNames=_ref.classNames,placeholderValue=_ref.placeholderValue;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Input),Object.assign(this,{element:element,type:type,classNames:classNames,placeholderValue:placeholderValue}),this.element=element,this.classNames=classNames,this.isFocussed=this.element===document.activeElement,this.isDisabled=!1,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}var Constructor,protoProps,staticProps;return Constructor=Input,(protoProps=[{key:"addEventListeners",value:function(){this.element.addEventListener("input",this._onInput),this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur),this.element.form&&this.element.form.addEventListener("reset",this._onFormReset)}},{key:"removeEventListeners",value:function(){this.element.removeEventListener("input",this._onInput),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur),this.element.form&&this.element.form.removeEventListener("reset",this._onFormReset)}},{key:"enable",value:function(){this.element.removeAttribute("disabled"),this.isDisabled=!1}},{key:"disable",value:function(){this.element.setAttribute("disabled",""),this.isDisabled=!0}},{key:"focus",value:function(){this.isFocussed||this.element.focus()}},{key:"blur",value:function(){this.isFocussed&&this.element.blur()}},{key:"clear",value:function(){var setWidth=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return this.element.value&&(this.element.value=""),setWidth&&this.setWidth(),this}},{key:"setWidth",value:function(enforceWidth){var _this=this,callback=function(width){_this.element.style.width=width};if(this._placeholderValue){var valueHasDesiredLength=this.element.value.length>=this._placeholderValue.length/1.25;(this.element.value&&valueHasDesiredLength||enforceWidth)&&this.calcWidth(callback)}else this.calcWidth(callback)}},{key:"calcWidth",value:function(callback){return(0,_utils.calcWidthOfInput)(this.element,callback)}},{key:"setActiveDescendant",value:function(activeDescendantID){this.element.setAttribute("aria-activedescendant",activeDescendantID)}},{key:"removeActiveDescendant",value:function(){this.element.removeAttribute("aria-activedescendant")}},{key:"_onInput",value:function(){"select-one"!==this.type&&this.setWidth()}},{key:"_onPaste",value:function(event){event.target===this.element&&this.preventPaste&&event.preventDefault()}},{key:"_onFocus",value:function(){this.isFocussed=!0}},{key:"_onBlur",value:function(){this.isFocussed=!1}},{key:"placeholder",set:function(placeholder){this.element.placeholder=placeholder}},{key:"value",set:function(value){this.element.value=value},get:function(){return(0,_utils.sanitise)(this.element.value)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Input}();exports.default=Input},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _constants=__webpack_require__(1);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var List=function(){function List(_ref){var element=_ref.element;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,List),Object.assign(this,{element:element}),this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight,this.hasChildren=!!this.element.children}var Constructor,protoProps,staticProps;return Constructor=List,(protoProps=[{key:"clear",value:function(){this.element.innerHTML=""}},{key:"append",value:function(node){this.element.appendChild(node)}},{key:"getChild",value:function(selector){return this.element.querySelector(selector)}},{key:"scrollToTop",value:function(){this.element.scrollTop=0}},{key:"scrollToChoice",value:function(choice,direction){var _this=this;if(choice){var dropdownHeight=this.element.offsetHeight,choiceHeight=choice.offsetHeight,choicePos=choice.offsetTop+choiceHeight,containerScrollPos=this.element.scrollTop+dropdownHeight,endpoint=0<direction?this.element.scrollTop+choicePos-containerScrollPos:choice.offsetTop;requestAnimationFrame(function(time){_this._animateScroll(time,endpoint,direction)})}}},{key:"_scrollDown",value:function(scrollPos,strength,endpoint){var easing=(endpoint-scrollPos)/strength,distance=1<easing?easing:1;this.element.scrollTop=scrollPos+distance}},{key:"_scrollUp",value:function(scrollPos,strength,endpoint){var easing=(scrollPos-endpoint)/strength,distance=1<easing?easing:1;this.element.scrollTop=scrollPos-distance}},{key:"_animateScroll",value:function(time,endpoint,direction){var _this2=this,strength=_constants.SCROLLING_SPEED,choiceListScrollTop=this.element.scrollTop,continueAnimation=!1;0<direction?(this._scrollDown(choiceListScrollTop,strength,endpoint),choiceListScrollTop<endpoint&&(continueAnimation=!0)):(this._scrollUp(choiceListScrollTop,strength,endpoint),endpoint<choiceListScrollTop&&(continueAnimation=!0)),continueAnimation&&requestAnimationFrame(function(){_this2._animateScroll(time,endpoint,direction)})}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),List}();exports.default=List},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_wrappedElement=(obj=__webpack_require__(4))&&obj.__esModule?obj:{default:obj};function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=function(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var WrappedInput=function(_WrappedElement){function WrappedInput(_ref){var _this,element=_ref.element,classNames=_ref.classNames,delimiter=_ref.delimiter;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WrappedInput),(_this=_possibleConstructorReturn(this,_getPrototypeOf(WrappedInput).call(this,{element:element,classNames:classNames}))).delimiter=delimiter,_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(WrappedInput,_wrappedElement.default),Constructor=WrappedInput,(protoProps=[{key:"value",set:function(items){var joinedValues=items.map(function(_ref2){return _ref2.value}).join(this.delimiter);this.element.setAttribute("value",joinedValues),this.element.value=joinedValues},get:function(){return _get(_getPrototypeOf(WrappedInput.prototype),"value",this)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),WrappedInput}();exports.default=WrappedInput},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _wrappedElement=_interopRequireDefault(__webpack_require__(4)),_templates=_interopRequireDefault(__webpack_require__(5));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var WrappedSelect=function(_WrappedElement){function WrappedSelect(_ref){var element=_ref.element,classNames=_ref.classNames;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WrappedSelect),_possibleConstructorReturn(this,_getPrototypeOf(WrappedSelect).call(this,{element:element,classNames:classNames}))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(WrappedSelect,_wrappedElement.default),Constructor=WrappedSelect,(protoProps=[{key:"appendDocFragment",value:function(fragment){this.element.innerHTML="",this.element.appendChild(fragment)}},{key:"placeholderOption",get:function(){return this.element.querySelector("option[placeholder]")}},{key:"optionGroups",get:function(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))}},{key:"options",get:function(){return Array.from(this.element.options)},set:function(options){var fragment=document.createDocumentFragment();options.forEach(function(optionData){return data=optionData,template=_templates.default.option(data),void fragment.appendChild(template);var data,template}),this.appendDocFragment(fragment)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),WrappedSelect}();exports.default=WrappedSelect},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg)&&arg.length){var inner=classNames.apply(null,arg);inner&&classes.push(inner)}else if("object"===argType)for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}return classes.join(" ")}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clearChoices=exports.activateChoices=exports.filterChoices=exports.addChoice=void 0;var _constants=__webpack_require__(1);exports.addChoice=function(_ref){var value=_ref.value,label=_ref.label,id=_ref.id,groupId=_ref.groupId,disabled=_ref.disabled,elementId=_ref.elementId,customProperties=_ref.customProperties,placeholder=_ref.placeholder,keyCode=_ref.keyCode;return{type:_constants.ACTION_TYPES.ADD_CHOICE,value:value,label:label,id:id,groupId:groupId,disabled:disabled,elementId:elementId,customProperties:customProperties,placeholder:placeholder,keyCode:keyCode}};exports.filterChoices=function(results){return{type:_constants.ACTION_TYPES.FILTER_CHOICES,results:results}};exports.activateChoices=function(){var active=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return{type:_constants.ACTION_TYPES.ACTIVATE_CHOICES,active:active}};exports.clearChoices=function(){return{type:_constants.ACTION_TYPES.CLEAR_CHOICES}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.highlightItem=exports.removeItem=exports.addItem=void 0;var _constants=__webpack_require__(1);exports.addItem=function(_ref){var value=_ref.value,label=_ref.label,id=_ref.id,choiceId=_ref.choiceId,groupId=_ref.groupId,customProperties=_ref.customProperties,placeholder=_ref.placeholder,keyCode=_ref.keyCode;return{type:_constants.ACTION_TYPES.ADD_ITEM,value:value,label:label,id:id,choiceId:choiceId,groupId:groupId,customProperties:customProperties,placeholder:placeholder,keyCode:keyCode}};exports.removeItem=function(id,choiceId){return{type:_constants.ACTION_TYPES.REMOVE_ITEM,id:id,choiceId:choiceId}};exports.highlightItem=function(id,highlighted){return{type:_constants.ACTION_TYPES.HIGHLIGHT_ITEM,id:id,highlighted:highlighted}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addGroup=void 0;var _constants=__webpack_require__(1);exports.addGroup=function(value,id,active,disabled){return{type:_constants.ACTION_TYPES.ADD_GROUP,value:value,id:id,active:active,disabled:disabled}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.resetTo=exports.clearAll=void 0;exports.clearAll=function(){return{type:"CLEAR_ALL"}};exports.resetTo=function(state){return{type:"RESET_TO",state:state}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setIsLoading=void 0;exports.setIsLoading=function(isLoading){return{type:"SET_IS_LOADING",isLoading:isLoading}}}])},"object"==typeof exports&&"object"==typeof module?module.exports=factory():"object"==typeof exports?exports.Choices=factory():root.Choices=factory()},{}],2:[function(_dereq_,module,exports){var root,factory;root=window,factory=function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s="./src/range-slider.js")}({"./src/range-slider.css":function(module,exports,__webpack_require__){},"./src/range-slider.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),dom=_interopRequireWildcard(__webpack_require__("./src/utils/dom.js")),func=_interopRequireWildcard(__webpack_require__("./src/utils/functions.js"));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}__webpack_require__("./src/range-slider.css");var newLineAndTabRegexp=new RegExp("/[\\n\\t]/","g"),inputrange=dom.supportsRange(),defaults={polyfill:!0,rangeClass:"rangeSlider",disabledClass:"rangeSlider--disabled",fillClass:"rangeSlider__fill",bufferClass:"rangeSlider__buffer",handleClass:"rangeSlider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"],min:null,max:null,step:null,value:null,buffer:null,stick:null,borderRadius:10,vertical:!1},RangeSlider=function(){function RangeSlider(element,options){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RangeSlider);var stepSetByDefault=void 0,stickAttribute=void 0,stickValues=void 0;if(this.element=element,this.options=func.simpleExtend(defaults,options),this.polyfill=this.options.polyfill,this.vertical=this.options.vertical,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideStart=this.options.onSlideStart,this.onSlideEnd=this.options.onSlideEnd,this.onSlideEventsCount=-1,this.isInteractsNow=!1,this.needTriggerEvents=!1,this.polyfill||!inputrange){this.options.buffer=this.options.buffer||parseFloat(this.element.getAttribute("data-buffer")),this.identifier="js-rangeSlider-"+func.uuid(),this.min=func.getFirsNumberLike(this.options.min,parseFloat(this.element.getAttribute("min")),0),this.max=func.getFirsNumberLike(this.options.max,parseFloat(this.element.getAttribute("max")),100),this.value=func.getFirsNumberLike(this.options.value,this.element.value,parseFloat(this.element.value||this.min+(this.max-this.min)/2)),this.step=func.getFirsNumberLike(this.options.step,parseFloat(this.element.getAttribute("step"))||(stepSetByDefault=1)),this.percent=null,func.isArray(this.options.stick)&&1<=this.options.stick.length?this.stick=this.options.stick:(stickAttribute=this.element.getAttribute("stick"))&&1<=(stickValues=stickAttribute.split(" ")).length&&(this.stick=stickValues.map(parseFloat)),this.stick&&1===this.stick.length&&this.stick.push(1.5*this.step),this._updatePercentFromValue(),this.toFixed=this._toFixed(this.step);var directionClass=void 0;this.container=document.createElement("div"),dom.addClass(this.container,this.options.fillClass),directionClass=this.vertical?this.options.fillClass+"__vertical":this.options.fillClass+"__horizontal",dom.addClass(this.container,directionClass),this.handle=document.createElement("div"),dom.addClass(this.handle,this.options.handleClass),directionClass=this.vertical?this.options.handleClass+"__vertical":this.options.handleClass+"__horizontal",dom.addClass(this.handle,directionClass),this.range=document.createElement("div"),dom.addClass(this.range,this.options.rangeClass),this.range.id=this.identifier,this.options.bufferClass&&(this.buffer=document.createElement("div"),dom.addClass(this.buffer,this.options.bufferClass),this.range.appendChild(this.buffer),directionClass=this.vertical?this.options.bufferClass+"__vertical":this.options.bufferClass+"__horizontal",dom.addClass(this.buffer,directionClass)),this.range.appendChild(this.container),this.range.appendChild(this.handle),directionClass=this.vertical?this.options.rangeClass+"__vertical":this.options.rangeClass+"__horizontal",dom.addClass(this.range,directionClass),func.isNumberLike(this.options.value)&&(this._setValue(this.options.value,!0),this.element.value=this.options.value),func.isNumberLike(this.options.buffer)&&this.element.setAttribute("data-buffer",this.options.buffer),func.isNumberLike(this.options.min)&&this.element.setAttribute("min",""+this.min),func.isNumberLike(this.options.max),this.element.setAttribute("max",""+this.max),(func.isNumberLike(this.options.step)||stepSetByDefault)&&this.element.setAttribute("step",""+this.step),dom.insertAfter(this.element,this.range),dom.setCss(this.element,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this._handleDown=this._handleDown.bind(this),this._handleMove=this._handleMove.bind(this),this._handleEnd=this._handleEnd.bind(this),this._startEventListener=this._startEventListener.bind(this),this._changeEventListener=this._changeEventListener.bind(this),this._handleResize=this._handleResize.bind(this),this._init(),window.addEventListener("resize",this._handleResize,!1),dom.addEventListeners(document,this.options.startEvent,this._startEventListener),this.element.addEventListener("change",this._changeEventListener,!1)}}return _createClass(RangeSlider,[{key:"update",value:function(obj,triggerEvents){return triggerEvents&&(this.needTriggerEvents=!0),func.isObject(obj)&&(func.isNumberLike(obj.min)&&(this.element.setAttribute("min",""+obj.min),this.min=obj.min),func.isNumberLike(obj.max)&&(this.element.setAttribute("max",""+obj.max),this.max=obj.max),func.isNumberLike(obj.step)&&(this.element.setAttribute("step",""+obj.step),this.step=obj.step,this.toFixed=this._toFixed(obj.step)),func.isNumberLike(obj.buffer)&&this._setBufferPosition(obj.buffer),func.isNumberLike(obj.value)&&this._setValue(obj.value)),this._update(),this.onSlideEventsCount=0,this.needTriggerEvents=!1,this}},{key:"destroy",value:function(){dom.removeAllListenersFromEl(this,document),window.removeEventListener("resize",this._handleResize,!1),this.element.removeEventListener("change",this._changeEventListener,!1),this.element.style.cssText="",delete this.element.rangeSlider,this.range&&this.range.parentNode.removeChild(this.range)}},{key:"_toFixed",value:function(step){return(step+"").replace(".","").length-1}},{key:"_init",value:function(){this.onInit&&"function"==typeof this.onInit&&this.onInit(),this._update()}},{key:"_updatePercentFromValue",value:function(){this.percent=(this.value-this.min)/(this.max-this.min)}},{key:"_startEventListener",value:function(ev,data){var _this=this,el=ev.target,isEventOnSlider=!1;(1===ev.which||"touches"in ev)&&(dom.forEachAncestors(el,function(el){return isEventOnSlider=el.id===_this.identifier&&!dom.hasClass(el,_this.options.disabledClass)},!0),isEventOnSlider&&this._handleDown(ev,data))}},{key:"_changeEventListener",value:function(ev,data){if(!data||data.origin!==this.identifier){var value=ev.target.value,pos=this._getPositionFromValue(value);this._setPosition(pos)}}},{key:"_update",value:function(){var sizeProperty=this.vertical?"offsetHeight":"offsetWidth";this.handleSize=dom.getDimension(this.handle,sizeProperty),this.rangeSize=dom.getDimension(this.range,sizeProperty),this.maxHandleX=this.rangeSize-this.handleSize,this.grabX=this.handleSize/2,this.position=this._getPositionFromValue(this.value),this.element.disabled?dom.addClass(this.range,this.options.disabledClass):dom.removeClass(this.range,this.options.disabledClass),this._setPosition(this.position),this.options.bufferClass&&this.options.buffer&&this._setBufferPosition(this.options.buffer),this._updatePercentFromValue(),dom.triggerEvent(this.element,"change",{origin:this.identifier})}},{key:"_handleResize",value:function(){var _this2=this;return func.debounce(function(){func.delay(function(){_this2._update()},300)},50)()}},{key:"_handleDown",value:function(e){if(this.isInteractsNow=!0,e.preventDefault(),dom.addEventListeners(document,this.options.moveEvent,this._handleMove),dom.addEventListeners(document,this.options.endEvent,this._handleEnd),!(-1<(" "+e.target.className+" ").replace(newLineAndTabRegexp," ").indexOf(this.options.handleClass))){var boundingClientRect=this.range.getBoundingClientRect(),posX=this._getRelativePosition(e),rangeX=this.vertical?boundingClientRect.bottom:boundingClientRect.left,handleX=this._getPositionFromNode(this.handle)-rangeX,position=posX-this.grabX;this._setPosition(position),handleX<=posX&&posX<handleX+2*this.options.borderRadius&&(this.grabX=posX-handleX),this._updatePercentFromValue()}}},{key:"_handleMove",value:function(e){var posX=this._getRelativePosition(e);this.isInteractsNow=!0,e.preventDefault(),this._setPosition(posX-this.grabX)}},{key:"_handleEnd",value:function(e){e.preventDefault(),dom.removeEventListeners(document,this.options.moveEvent,this._handleMove),dom.removeEventListeners(document,this.options.endEvent,this._handleEnd),dom.triggerEvent(this.element,"change",{origin:this.identifier}),(this.isInteractsNow||this.needTriggerEvents)&&this.onSlideEnd&&"function"==typeof this.onSlideEnd&&this.onSlideEnd(this.value,this.percent,this.position),this.onSlideEventsCount=0,this.isInteractsNow=!1}},{key:"_setPosition",value:function(pos){var position,stickRadius=void 0,restFromValue=void 0,stickTo=void 0,value=this._getValueFromPosition(func.between(pos,0,this.maxHandleX));this.stick&&((restFromValue=value%(stickTo=this.stick[0]))<(stickRadius=this.stick[1]||.1)?value-=restFromValue:Math.abs(stickTo-restFromValue)<stickRadius&&(value=value-restFromValue+stickTo)),position=this._getPositionFromValue(value),this.vertical?(this.container.style.height=position+this.grabX+"px",this.handle.style.webkitTransform="translateY(-"+position+"px)",this.handle.style.msTransform="translateY(-"+position+"px)",this.handle.style.transform="translateY(-"+position+"px)"):(this.container.style.width=position+this.grabX+"px",this.handle.style.webkitTransform="translateX("+position+"px)",this.handle.style.msTransform="translateX("+position+"px)",this.handle.style.transform="translateX("+position+"px)"),this._setValue(value),this.position=position,this.value=value,this._updatePercentFromValue(),(this.isInteractsNow||this.needTriggerEvents)&&(this.onSlideStart&&"function"==typeof this.onSlideStart&&0===this.onSlideEventsCount&&this.onSlideStart(this.value,this.percent,this.position),this.onSlide&&"function"==typeof this.onSlide&&this.onSlide(this.value,this.percent,this.position)),this.onSlideEventsCount++}},{key:"_setBufferPosition",value:function(pos){var isPercent=!0;if(isFinite(pos))pos=parseFloat(pos);else{if(!func.isString(pos))return void console.warn("New position must be XXpx or XX%");0<pos.indexOf("px")&&(isPercent=!1),pos=parseFloat(pos)}if(isNaN(pos))console.warn("New position is NaN");else if(this.options.bufferClass){var bufferSize=isPercent?pos:pos/this.rangeSize*100;bufferSize<0&&(bufferSize=0),100<bufferSize&&(bufferSize=100),this.options.buffer=bufferSize;var paddingSize=this.options.borderRadius/this.rangeSize*100,bufferSizeWithPadding=bufferSize-paddingSize;bufferSizeWithPadding<0&&(bufferSizeWithPadding=0),this.vertical?(this.buffer.style.height=bufferSizeWithPadding+"%",this.buffer.style.bottom=.5*paddingSize+"%"):(this.buffer.style.width=bufferSizeWithPadding+"%",this.buffer.style.left=.5*paddingSize+"%"),this.element.setAttribute("data-buffer",bufferSize)}else console.warn("You disabled buffer, it's className is empty")}},{key:"_getPositionFromNode",value:function(node){for(var i=this.vertical?this.maxHandleX:0;null!==node;)i+=this.vertical?node.offsetTop:node.offsetLeft,node=node.offsetParent;return i}},{key:"_getRelativePosition",value:function(e){var boundingClientRect=this.range.getBoundingClientRect(),rangeSize=this.vertical?boundingClientRect.bottom:boundingClientRect.left,pageOffset=0,pagePositionProperty=this.vertical?"pageY":"pageX";return void 0!==e[pagePositionProperty]?pageOffset=e.touches&&e.touches.length?e.touches[0][pagePositionProperty]:e[pagePositionProperty]:void 0!==e.originalEvent?void 0!==e.originalEvent[pagePositionProperty]?pageOffset=e.originalEvent[pagePositionProperty]:e.originalEvent.touches&&e.originalEvent.touches[0]&&void 0!==e.originalEvent.touches[0][pagePositionProperty]&&(pageOffset=e.originalEvent.touches[0][pagePositionProperty]):e.touches&&e.touches[0]&&void 0!==e.touches[0][pagePositionProperty]?pageOffset=e.touches[0][pagePositionProperty]:!e.currentPoint||void 0===e.currentPoint.x&&void 0===e.currentPoint.y||(pageOffset=this.vertical?e.currentPoint.y:e.currentPoint.x),this.vertical&&(pageOffset-=window.pageYOffset),this.vertical?rangeSize-pageOffset:pageOffset-rangeSize}},{key:"_getPositionFromValue",value:function(value){var pos=(value-this.min)/(this.max-this.min)*this.maxHandleX;return isNaN(pos)?0:pos}},{key:"_getValueFromPosition",value:function(pos){var percentage=pos/(this.maxHandleX||1),value=this.step*Math.round(percentage*(this.max-this.min)/this.step)+this.min;return Number(value.toFixed(this.toFixed))}},{key:"_setValue",value:function(value,force){(value!==this.value||force)&&(this.element.value=value,this.value=value,dom.triggerEvent(this.element,"input",{origin:this.identifier}))}}],[{key:"create",value:function(el,options){var createInstance=function(el){var data=el.rangeSlider;data||(data=new RangeSlider(el,options),el.rangeSlider=data)};el.length?Array.prototype.slice.call(el).forEach(function(el){createInstance(el)}):createInstance(el)}}]),RangeSlider}();exports.default=RangeSlider,module.exports=exports.default},"./src/utils/dom.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.supportsRange=exports.removeAllListenersFromEl=exports.removeEventListeners=exports.addEventListeners=exports.insertAfter=exports.triggerEvent=exports.forEachAncestors=exports.removeClass=exports.addClass=exports.hasClass=exports.setCss=exports.getDimension=exports.getHiddenParentNodes=exports.isHidden=exports.detectIE=void 0;var func=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(__webpack_require__("./src/utils/functions.js"));var ieVersion=(exports.detectIE=function(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE ");if(0<msie)return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)),10);if(0<ua.indexOf("Trident/")){var rv=ua.indexOf("rv:");return parseInt(ua.substring(rv+3,ua.indexOf(".",rv)),10)}var edge=ua.indexOf("Edge/");return 0<edge&&parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10)})(),eventCaptureParams=!(!window.PointerEvent||ieVersion)&&{passive:!1},isHidden=exports.isHidden=function(element){return 0===element.offsetWidth||0===element.offsetHeight||!1===element.open},getHiddenParentNodes=exports.getHiddenParentNodes=function(element){for(var parents=[],node=element.parentNode;isHidden(node);)parents.push(node),node=node.parentNode;return parents},hasClass=(exports.getDimension=function(element,key){var hiddenParentNodes=getHiddenParentNodes(element),hiddenParentNodesLength=hiddenParentNodes.length,hiddenParentNodesStyle=[],dimension=element[key],toggleOpenProperty=function(element){void 0!==element.open&&(element.open=!element.open)};if(hiddenParentNodesLength){for(var i=0;i<hiddenParentNodesLength;i++)hiddenParentNodesStyle.push({display:hiddenParentNodes[i].style.display,height:hiddenParentNodes[i].style.height,overflow:hiddenParentNodes[i].style.overflow,visibility:hiddenParentNodes[i].style.visibility}),hiddenParentNodes[i].style.display="block",hiddenParentNodes[i].style.height="0",hiddenParentNodes[i].style.overflow="hidden",hiddenParentNodes[i].style.visibility="hidden",toggleOpenProperty(hiddenParentNodes[i]);dimension=element[key];for(var j=0;j<hiddenParentNodesLength;j++)toggleOpenProperty(hiddenParentNodes[j]),hiddenParentNodes[j].style.display=hiddenParentNodesStyle[j].display,hiddenParentNodes[j].style.height=hiddenParentNodesStyle[j].height,hiddenParentNodes[j].style.overflow=hiddenParentNodesStyle[j].overflow,hiddenParentNodes[j].style.visibility=hiddenParentNodesStyle[j].visibility}return dimension},exports.setCss=function(el,cssObj){for(var key in cssObj)el.style[key]=cssObj[key];return el.style},exports.hasClass=function(elem,className){return new RegExp(" "+className+" ").test(" "+elem.className+" ")});exports.addClass=function(elem,className){hasClass(elem,className)||(elem.className+=" "+className)},exports.removeClass=function(elem,className){var newClass=" "+elem.className.replace(/[\t\r\n]/g," ")+" ";if(hasClass(elem,className)){for(;0<=newClass.indexOf(" "+className+" ");)newClass=newClass.replace(" "+className+" "," ");elem.className=newClass.replace(/^\s+|\s+$/g,"")}},exports.forEachAncestors=function(el,callback,andForElement){for(andForElement&&callback(el);el.parentNode&&!callback(el);)el=el.parentNode;return el},exports.triggerEvent=function(el,name,data){if(!func.isString(name))throw new TypeError("event name must be String");if(!(el instanceof HTMLElement))throw new TypeError("element must be HTMLElement");name=name.trim();var event=document.createEvent("CustomEvent");event.initCustomEvent(name,!1,!1,data),el.dispatchEvent(event)},exports.insertAfter=function(referenceNode,newNode){return referenceNode.parentNode.insertBefore(newNode,referenceNode.nextSibling)},exports.addEventListeners=function(el,events,listener){events.forEach(function(eventName){el.eventListenerList||(el.eventListenerList={}),el.eventListenerList[eventName]||(el.eventListenerList[eventName]=[]),el.addEventListener(eventName,listener,eventCaptureParams),el.eventListenerList[eventName].indexOf(listener)<0&&el.eventListenerList[eventName].push(listener)})},exports.removeEventListeners=function(el,events,listener){events.forEach(function(eventName){var index=void 0;el.removeEventListener(eventName,listener,!1),el.eventListenerList&&el.eventListenerList[eventName]&&-1<(index=el.eventListenerList[eventName].indexOf(listener))&&el.eventListenerList[eventName].splice(index,1)})},exports.removeAllListenersFromEl=function(instance,el){if(el.eventListenerList){for(var eventName in el.eventListenerList)el.eventListenerList[eventName].forEach(rm,{eventName:eventName,el:el});el.eventListenerList={}}function rm(listener){listener===instance._startEventListener&&this.el.removeEventListener(this.eventName,listener,!1)}},exports.supportsRange=function(){var input=document.createElement("input");return input.setAttribute("type","range"),"text"!==input.type}},"./src/utils/functions.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.uuid=function(){var s4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()},exports.delay=function(fn,wait){for(var _len=arguments.length,args=Array(2<_len?_len-2:0),_key=2;_key<_len;_key++)args[_key-2]=arguments[_key];return setTimeout(function(){return fn.apply(null,args)},wait)},exports.debounce=function(fn){var debounceDuration=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100;return function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return fn.debouncing||(fn.lastReturnVal=fn.apply(window,args),fn.debouncing=!0),clearTimeout(fn.debounceTimeout),fn.debounceTimeout=setTimeout(function(){fn.debouncing=!1},debounceDuration),fn.lastReturnVal}};var isString=exports.isString=function(obj){return obj===""+obj},isNumberLike=(exports.isArray=function(obj){return"[object Array]"===Object.prototype.toString.call(obj)},exports.isNumberLike=function(obj){return null!=obj&&(isString(obj)&&isFinite(parseFloat(obj))||isFinite(obj))});exports.getFirsNumberLike=function(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];if(!args.length)return null;for(var i=0,len=args.length;i<len;i++)if(isNumberLike(args[i]))return args[i];return null},exports.isObject=function(obj){return"[object Object]"===Object.prototype.toString.call(obj)},exports.simpleExtend=function(defaultOpt,options){var opt={};for(var key in defaultOpt)opt[key]=defaultOpt[key];for(var _key4 in options)opt[_key4]=options[_key4];return opt},exports.between=function(pos,min,max){return pos<min?min:max<pos?max:pos}}})},"object"==typeof exports&&"object"==typeof module?module.exports=factory():"object"==typeof exports?exports.rangeSlider=factory():root.rangeSlider=factory()},{}],3:[function(_dereq_,module,exports){module.exports={init:"fontsampler.events.init"}},{}],4:[function(_dereq_,module,exports){function addClass(className,classNames){return classNames||(classNames=""),classNames=classNames.trim(),className?(className=className.trim(),-1===classNames.split(" ").indexOf(className)?classNames?classNames+" "+className:className:classNames):classNames}function isNode(node){return"object"==typeof node&&null!==node&&"nodeType"in node}module.exports={nodeAddClass:function(node,className){return!(!isNode(node)||"string"!=typeof className||(node.className=addClass(className,node.className),0))},nodeAddClasses:function(node,classes){if(!isNode(node)||!Array.isArray(classes)||classes.length<1)return!1;for(var c=0;c<classes.length;c++)node.className=addClass(classes[c],node.className);return!0},nodeRemoveClass:function(node,className){return!(!isNode(node)||"string"!=typeof className||(node.className=function(className,classNames){if(!classNames)return"";if(classNames=classNames.trim(),!className)return classNames;className=className.trim();var classes=classNames.split(" "),classIndex=classes.indexOf(className);return-1!==classIndex&&classes.splice(classIndex,1),0<classes.length?classes.join(" "):""}(className,node.className),0))},isNode:isNode}},{}],5:[function(_dereq_,module,exports){var rangeSlider=_dereq_("../node_modules/rangeslider-pure/dist/range-slider"),Choices=_dereq_("../node_modules/choices.js/public/assets/scripts/choices"),events=_dereq_("./events"),helpers=_dereq_("./helpers");module.exports=function(FS){function updateSlider(position){var key=this.element.dataset.fsjs,label=FS.root.querySelector("[data-fsjs-for='"+key+"'] .fsjs-label-value");FS.root.dispatchEvent(new CustomEvent("fontsampler.on"+key+"changed")),label&&(label.textContent=position)}FS.registerEventhandler(events.init,function(){if(console.debug("Skin.init()",FS,FS.initialized),!0===FS.initialized)throw console.error(FS.root),new Error("FontsamplerSkin: Cannot apply skin to a Fontsampler that is already initialized.");helpers.nodeAddClass(FS.root,"fsjs-skin");var rangeInputs=FS.root.querySelectorAll("input[type=range][data-fsjs]");rangeInputs.length&&rangeSlider.create(rangeInputs,{polyfill:!0,onSlide:updateSlider,onSlideEnd:updateSlider});var selectInputs=FS.root.querySelectorAll("select[data-fsjs]");if(selectInputs.length)for(var i in selectInputs)if(selectInputs.hasOwnProperty(i)){var element=selectInputs[i];new Choices(element,{searchEnabled:!1,searchChoices:!1,maxItemCount:1,itemSelectText:"",shouldSort:!1,shouldSortItems:!1})}})}},{"../node_modules/choices.js/public/assets/scripts/choices":1,"../node_modules/rangeslider-pure/dist/range-slider":2,"./events":3,"./helpers":4}]},{},[5])(5)});
